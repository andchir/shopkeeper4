(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"7wo0":function(t,e,n){"use strict";n.r(e),n.d(e,"SettingsModule",function(){return ot});var i=n("ofXK"),c=n("d2mR"),s=n("tyNb"),b=n("XNiG"),a=n("1G5W"),o=n("LvDl"),r=n("7zfz"),l=n("8Eda"),T=n("wgQU"),g=n("b1TM"),d=n("c863"),u=n("fXoL"),S=n("1kSV"),h=n("sYmb");const p=["filesWidget"];function E(t,e){1&t&&u.Pb(0,"i",16)}function U(t,e){1&t&&u.Pb(0,"i",16)}function C(t,e){1&t&&u.Pb(0,"i",16)}function I(t,e){1&t&&u.Pb(0,"i",17)}function f(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div",18),u.Pb(1,"app-file-widget",19,20),u.Ub(3,"div",21),u.Ub(4,"button",22),u.ec("click",function(e){return u.Ac(t),u.gc().skipStepHandler(e)}),u.Ic(5),u.hc(6,"translate"),u.Tb(),u.Tb(),u.Tb()}2&t&&(u.Cb(1),u.nc("hasPreviewImage",!1)("allowMultiple",!1)("allowedExtensions",".zip"),u.Cb(4),u.Kc(" ",u.ic(6,4,"SKIP")," "))}function m(t,e){if(1&t&&(u.Ub(0,"pre",28),u.Ic(1),u.Tb()),2&t){const t=u.gc(2);u.Cb(1),u.Jc(t.changelogContent)}}function N(t,e){if(1&t&&(u.Ub(0,"div"),u.Ub(1,"div",23),u.Ic(2),u.hc(3,"translate"),u.Ub(4,"span"),u.Ic(5),u.Tb(),u.Pb(6,"br"),u.Ic(7),u.hc(8,"translate"),u.Ub(9,"b",24),u.Ic(10),u.Tb(),u.Tb(),u.Ub(11,"ngb-accordion",25),u.Ub(12,"ngb-panel",26),u.hc(13,"translate"),u.Gc(14,m,2,1,"ng-template",27),u.Tb(),u.Tb(),u.Tb()),2&t){const t=u.gc();u.Cb(2),u.Kc(" ",u.ic(3,5,"CURRENT_VERSION"),": "),u.Cb(3),u.Jc(t.currentVersion),u.Cb(2),u.Kc(" ",u.ic(8,7,"NEW_VERSION"),": "),u.Cb(3),u.Jc(t.version),u.Cb(2),u.nc("title",u.ic(13,9,"CHANGELOG"))}}function G(t,e){if(1&t&&(u.Ub(0,"div",29),u.Pb(1,"ngb-progressbar",30),u.Tb()),2&t){const t=u.gc();u.Cb(1),u.nc("striped",!0)("animated",!0)("value",t.updatePercent)("showValue",!0)}}function _(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div",31),u.Ub(1,"button",32),u.ec("click",function(){return u.Ac(t),u.gc().errorMessage=""}),u.Ub(2,"span",33),u.Ic(3,"\xd7"),u.Tb(),u.Tb(),u.Ic(4),u.hc(5,"translate"),u.Tb()}if(2&t){const t=u.gc();u.Cb(4),u.Kc(" ",u.ic(5,1,t.errorMessage)," ")}}const v=function(t){return{"no-events loading":t}},A=function(t){return{"text-muted":t}};let R=(()=>{class t{constructor(t,e,n){this.activeModal=t,this.dataService=e,this.appSettings=n,this.loading=!1,this.destroyed$=new b.a,this.stepNumber=1,this.updatePercent=0,this.isUpdateStarted=!1,this.isCollapsed=!0}ngOnInit(){this.currentVersion=this.appSettings.settings.version}nextStepHandler(t){switch(t&&t.preventDefault(),this.errorMessage="",this.stepNumber){case 1:if(0===this.filesWidget.filesRaw.length)return void(this.errorMessage="PLEASE_SELECT_FILE");this.isUpdateStarted=!1;const t=new FormData;t.append("file",this.filesWidget.filesRaw[0]),this.loading=!0,this.dataService.postFormData(t,"admin/system_update/upload").pipe(Object(a.a)(this.destroyed$)).subscribe({next:t=>{this.loading=!1,this.stepNumber=2},error:t=>{t.error&&(this.errorMessage=t.error),this.loading=!1}});break;case 2:this.loading=!0,this.dataService.runAction("admin/system_update/pre_update").pipe(Object(a.a)(this.destroyed$)).subscribe({next:t=>{this.stepNumber=3,this.version=t.version||"",this.changelogContent=t.changelogContent||"",this.loading=!1},error:t=>{t.error&&(this.errorMessage=t.error),this.loading=!1}});break;case 3:this.updateRunStep("vendors")}}skipStepHandler(t){t&&t.preventDefault(),this.errorMessage="",this.stepNumber++}updateRunStep(t){const e=["vendor","src","template","config"],n=e.indexOf(t);0===n&&(this.loading=!0,this.isUpdateStarted=!0,this.updatePercent=0),this.dataService.runAction(`admin/system_update/execute/${t}`).pipe(Object(a.a)(this.destroyed$)).subscribe({next:t=>{this.updatePercent=(n+1)/e.length*100,100===this.updatePercent?(this.stepNumber=4,setTimeout(this.onUpdateComplete.bind(this),1e3)):this.updateRunStep(e[n+1])},error:t=>{t.error&&(this.errorMessage=t.error),this.loading=!1,this.isUpdateStarted=!1,this.updatePercent=0}})}closeModal(t){this.activeModal.close(t)}onUpdateComplete(){this.loading=!1,this.closeModal("completed")}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(S.b),u.Ob(g.a),u.Ob(T.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-modal-file-upload"]],viewQuery:function(t,e){if(1&t&&u.Mc(p,1),2&t){let t;u.yc(t=u.fc())&&(e.filesWidget=t.first)}},decls:34,vars:42,consts:[[3,"ngClass"],[1,"modal-header","d-block"],[1,"modal-title","text-success"],[1,"icon-arrow-up-circle"],[1,"modal-body"],[1,"mb-3",3,"ngClass"],["class","icon-check-circle mr-2 text-success",4,"ngIf","ngIfElse"],["iconCircleTemplate",""],["class","show-on-hover-parent",4,"ngIf"],[4,"ngIf"],["class","py-4",4,"ngIf"],["class","alert alert-danger mt-3 mb-0",4,"ngIf"],[1,"modal-footer","d-block","pt-0"],["type","button",1,"btn","btn-primary","btn-wide",3,"disabled","click"],[1,"icon-arrow-right","ml-2"],["type","button",1,"btn","btn-secondary","btn-wide",3,"disabled","click"],[1,"icon-check-circle","mr-2","text-success"],[1,"icon-circle","mr-2"],[1,"show-on-hover-parent"],["fieldName","file",3,"hasPreviewImage","allowMultiple","allowedExtensions"],["filesWidget",""],[1,"pos-absolute-left-bottom10","show-on-hover"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"text-success","mb-2"],[1,"big"],[1,"ngb-accordion"],["id","accordion-settings-1",3,"title"],["ngbPanelContent",""],[1,"max-height400","mb-0"],[1,"py-4"],["type","info","textType","white",3,"striped","animated","value","showValue"],[1,"alert","alert-danger","mt-3","mb-0"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(t,e){if(1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"h4",2),u.Pb(3,"i",3),u.Ic(4),u.hc(5,"translate"),u.Tb(),u.Tb(),u.Ub(6,"div",4),u.Ub(7,"div"),u.Ub(8,"div",5),u.Gc(9,E,1,0,"i",6),u.Ic(10),u.hc(11,"translate"),u.Tb(),u.Ub(12,"div",5),u.Gc(13,U,1,0,"i",6),u.Ic(14),u.hc(15,"translate"),u.Tb(),u.Ub(16,"div",5),u.Gc(17,C,1,0,"i",6),u.Ic(18),u.hc(19,"translate"),u.Tb(),u.Gc(20,I,1,0,"ng-template",null,7,u.Hc),u.Tb(),u.Gc(22,f,7,6,"div",8),u.Gc(23,N,15,11,"div",9),u.Gc(24,G,2,4,"div",10),u.Gc(25,_,6,3,"div",11),u.Tb(),u.Ub(26,"div",12),u.Ub(27,"button",13),u.ec("click",function(t){return e.nextStepHandler(t)}),u.Ic(28),u.hc(29,"translate"),u.Pb(30,"i",14),u.Tb(),u.Ub(31,"button",15),u.ec("click",function(){return e.closeModal("close")}),u.Ic(32),u.hc(33,"translate"),u.Tb(),u.Tb(),u.Tb()),2&t){const t=u.zc(21);u.nc("ngClass",u.sc(34,v,e.loading)),u.Cb(4),u.Kc(" ",u.ic(5,22,"SYSTEM_UPDATE")," "),u.Cb(4),u.nc("ngClass",u.sc(36,A,1!=e.stepNumber)),u.Cb(1),u.nc("ngIf",e.stepNumber>1)("ngIfElse",t),u.Cb(1),u.Kc(" ",u.ic(11,24,"SYSTEM_UPDATE_STEP1_DESCRIPTION")," "),u.Cb(2),u.nc("ngClass",u.sc(38,A,2!=e.stepNumber)),u.Cb(1),u.nc("ngIf",e.stepNumber>2)("ngIfElse",t),u.Cb(1),u.Kc(" ",u.ic(15,26,"SYSTEM_UPDATE_STEP2_DESCRIPTION")," "),u.Cb(2),u.nc("ngClass",u.sc(40,A,3!=e.stepNumber)),u.Cb(1),u.nc("ngIf",e.stepNumber>3)("ngIfElse",t),u.Cb(1),u.Kc(" ",u.ic(19,28,"SYSTEM_UPDATE_STEP3_DESCRIPTION")," "),u.Cb(4),u.nc("ngIf",1==e.stepNumber),u.Cb(1),u.nc("ngIf",3==e.stepNumber&&!e.isUpdateStarted),u.Cb(1),u.nc("ngIf",e.isUpdateStarted),u.Cb(1),u.nc("ngIf",e.errorMessage),u.Cb(2),u.nc("disabled",e.loading),u.Cb(1),u.Kc(" ",u.ic(29,30,"CONTINUE")," "),u.Cb(3),u.nc("disabled",e.loading),u.Cb(1),u.Kc(" ",u.ic(33,32,"CLOSE")," ")}},directives:[i.n,i.p,d.a,S.a,S.p,S.q,S.s],pipes:[h.c],encapsulation:2}),t})();var P=n("Gxio"),O=n("3Pt+"),M=n("bv7W");let D=(()=>{class t{transform(t,e){if(e&&Array.isArray(t)){const n=Object.keys(e);return t.filter(t=>n.reduce((n,i)=>n&&t[i].indexOf(e[i])>-1,!0))}return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=u.Nb({name:"filter",type:t,pure:!1}),t})();function y(t,e){if(1&t){const t=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td"),u.Ub(2,"div",33),u.Ub(3,"div",34),u.Ub(4,"div",35),u.Ub(5,"span",36),u.Ic(6),u.Tb(),u.Tb(),u.Tb(),u.Ub(7,"span"),u.Ic(8),u.hc(9,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"td"),u.Ub(11,"div",37),u.Ub(12,"input",38,39),u.ec("ngModelChange",function(t){return e.$implicit.value=t}),u.Tb(),u.Ub(14,"div",40),u.Ub(15,"button",41,42),u.ec("click",function(e){return u.Ac(t),u.gc().saveSettings("SETTINGS_MAIN",e)}),u.hc(17,"translate"),u.Pb(18,"i",43),u.Tb(),u.Ub(19,"button",44),u.ec("click",function(e){u.Ac(t);const n=u.zc(13),i=u.zc(16);return u.gc().inputDisableToggle(n,i,e)}),u.hc(20,"translate"),u.Pb(21,"i",45),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit,n=u.gc();u.Cb(6),u.Jc(t.name),u.Cb(2),u.Jc(u.ic(9,6,t.name)),u.Cb(4),u.oc("type",n.getFieldTypeByName(t.name)),u.nc("ngModel",t.value),u.Cb(3),u.oc("ngbTooltip",u.ic(17,8,"SAVE")),u.Cb(4),u.oc("ngbTooltip",u.ic(20,10,"EDIT"))}}function k(t,e){if(1&t){const t=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td"),u.Ub(2,"input",56),u.ec("ngModelChange",function(t){return e.$implicit.name=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_ORDER_STATUSES")}),u.Tb(),u.Tb(),u.Ub(3,"td"),u.Ub(4,"input",56),u.ec("ngModelChange",function(t){return e.$implicit.options.template.value=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_ORDER_STATUSES")}),u.Tb(),u.Tb(),u.Ub(5,"td",57),u.Ub(6,"p-colorPicker",58),u.ec("ngModelChange",function(t){return e.$implicit.options.color.value=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_ORDER_STATUSES")}),u.Tb(),u.Tb(),u.Ub(7,"td",57),u.Ub(8,"button",59),u.ec("click",function(){u.Ac(t);const n=e.index;return u.gc(2).deleteSetting("SETTINGS_ORDER_STATUSES",n)}),u.hc(9,"translate"),u.Pb(10,"i",60),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit;u.Cb(2),u.nc("ngModel",t.name),u.Cb(2),u.nc("ngModel",t.options.template.value),u.Cb(2),u.nc("appendTo","body")("ngModel",t.options.color.value),u.Cb(2),u.oc("ngbTooltip",u.ic(9,5,"DELETE"))}}function L(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div",35),u.Ub(1,"button",61),u.ec("click",function(){return u.Ac(t),u.gc(2).saveSettings("SETTINGS_ORDER_STATUSES")}),u.Pb(2,"i",43),u.Ic(3," \xa0 "),u.Ub(4,"span"),u.Ic(5),u.hc(6,"translate"),u.Tb(),u.Tb(),u.Ic(7," \xa0 "),u.Ub(8,"button",59),u.ec("click",function(){return u.Ac(t),u.gc(2).resetSettingsForm("SETTINGS_ORDER_STATUSES")}),u.hc(9,"translate"),u.Pb(10,"i",62),u.Tb(),u.Tb()}2&t&&(u.Cb(5),u.Jc(u.ic(6,2,"SAVE")),u.Cb(3),u.oc("ngbTooltip",u.ic(9,4,"FORM_RESET")))}function V(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div"),u.Ub(1,"div",46),u.Ic(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"div",47),u.Ub(5,"table",20),u.Ub(6,"colgroup"),u.Pb(7,"col",48),u.Pb(8,"col",48),u.Pb(9,"col",49),u.Pb(10,"col",49),u.Tb(),u.Ub(11,"thead"),u.Ub(12,"tr"),u.Ub(13,"th"),u.Ic(14),u.hc(15,"translate"),u.Tb(),u.Ub(16,"th"),u.Ic(17),u.hc(18,"translate"),u.Tb(),u.Ub(19,"th"),u.Ic(20),u.hc(21,"translate"),u.Tb(),u.Pb(22,"th"),u.Tb(),u.Tb(),u.Ub(23,"tbody"),u.Gc(24,k,11,7,"tr",22),u.Tb(),u.Ub(25,"tfoot"),u.Ub(26,"tr",50),u.Ub(27,"td",51),u.Ub(28,"div",52),u.Gc(29,L,11,6,"div",53),u.Tb(),u.Ub(30,"button",54),u.ec("click",function(){return u.Ac(t),u.gc().addSetting("SETTINGS_ORDER_STATUSES")}),u.Pb(31,"i",55),u.Ic(32," \xa0 "),u.Ub(33,"span"),u.Ic(34),u.hc(35,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=u.gc();u.Gb("loading",t.settings.SETTINGS_DELIVERY.loading),u.Cb(2),u.Kc(" ",u.ic(3,9,"SETTINGS_STATUSES_DESCRIPTION")," "),u.Cb(12),u.Kc(" ",u.ic(15,11,"NAME")," "),u.Cb(3),u.Kc(" ",u.ic(18,13,"MAIL_TEMPLATE")," "),u.Cb(3),u.Kc(" ",u.ic(21,15,"COLOR")," "),u.Cb(4),u.nc("ngForOf",t.settings.SETTINGS_ORDER_STATUSES.values),u.Cb(5),u.nc("ngIf",t.settings.SETTINGS_ORDER_STATUSES.changed),u.Cb(5),u.Jc(u.ic(35,17,"ADD"))}}function w(t,e){if(1&t){const t=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td"),u.Ub(2,"input",56),u.ec("ngModelChange",function(t){return e.$implicit.name=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_DELIVERY")}),u.Tb(),u.Tb(),u.Ub(3,"td",57),u.Ub(4,"input",63),u.ec("ngModelChange",function(t){return e.$implicit.options.price.value=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_DELIVERY")}),u.Tb(),u.Tb(),u.Ub(5,"td",57),u.Ub(6,"input",63),u.ec("ngModelChange",function(t){return e.$implicit.options.priceLimit.value=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_DELIVERY")}),u.Tb(),u.Tb(),u.Ub(7,"td",57),u.Ub(8,"button",59),u.ec("click",function(){u.Ac(t);const n=e.index;return u.gc(2).deleteSetting("SETTINGS_DELIVERY",n)}),u.hc(9,"translate"),u.Pb(10,"i",60),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit;u.Cb(2),u.nc("ngModel",t.name),u.Cb(2),u.nc("ngModel",t.options.price.value),u.Cb(2),u.nc("ngModel",t.options.priceLimit.value),u.Cb(2),u.oc("ngbTooltip",u.ic(9,4,"DELETE"))}}function Y(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div",35),u.Ub(1,"button",61),u.ec("click",function(){return u.Ac(t),u.gc(2).saveSettings("SETTINGS_DELIVERY")}),u.Pb(2,"i",43),u.Ic(3," \xa0 "),u.Ub(4,"span"),u.Ic(5),u.hc(6,"translate"),u.Tb(),u.Tb(),u.Ic(7," \xa0 "),u.Ub(8,"button",59),u.ec("click",function(){return u.Ac(t),u.gc(2).resetSettingsForm("SETTINGS_DELIVERY")}),u.hc(9,"translate"),u.Pb(10,"i",62),u.Tb(),u.Tb()}2&t&&(u.Cb(5),u.Jc(u.ic(6,2,"SAVE")),u.Cb(3),u.oc("ngbTooltip",u.ic(9,4,"FORM_RESET")))}function x(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div"),u.Ub(1,"div",46),u.Ic(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"div",47),u.Ub(5,"table",20),u.Ub(6,"thead"),u.Ub(7,"tr"),u.Ub(8,"th"),u.Ic(9),u.hc(10,"translate"),u.Tb(),u.Ub(11,"th"),u.Ic(12),u.hc(13,"translate"),u.Tb(),u.Ub(14,"th"),u.Ic(15),u.hc(16,"translate"),u.Tb(),u.Pb(17,"th"),u.Tb(),u.Tb(),u.Ub(18,"tbody"),u.Gc(19,w,11,6,"tr",22),u.Tb(),u.Ub(20,"tfoot"),u.Ub(21,"tr",50),u.Ub(22,"td",51),u.Ub(23,"div",52),u.Gc(24,Y,11,6,"div",53),u.Tb(),u.Ub(25,"button",54),u.ec("click",function(){return u.Ac(t),u.gc().addSetting("SETTINGS_DELIVERY")}),u.Pb(26,"i",55),u.Ic(27," \xa0 "),u.Ub(28,"span"),u.Ic(29),u.hc(30,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=u.gc();u.Gb("loading",t.settings.SETTINGS_DELIVERY.loading),u.Cb(2),u.Kc(" ",u.ic(3,9,"SETTINGS_DELIVERY_DESCRIPTION")," "),u.Cb(7),u.Kc(" ",u.ic(10,11,"NAME")," "),u.Cb(3),u.Kc(" ",u.ic(13,13,"PRICE")," "),u.Cb(3),u.Kc(" ",u.ic(16,15,"MAX_PRICE")," "),u.Cb(4),u.nc("ngForOf",t.settings.SETTINGS_DELIVERY.values),u.Cb(5),u.nc("ngIf",t.settings.SETTINGS_DELIVERY.changed),u.Cb(5),u.Jc(u.ic(30,17,"ADD"))}}function K(t,e){if(1&t){const t=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td"),u.Ub(2,"input",56),u.ec("ngModelChange",function(t){return e.$implicit.name=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_PAYMENT")}),u.Tb(),u.Tb(),u.Ub(3,"td",57),u.Ub(4,"input",56),u.ec("ngModelChange",function(t){return e.$implicit.options.value.value=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_PAYMENT")}),u.Tb(),u.Tb(),u.Ub(5,"td",57),u.Ub(6,"button",59),u.ec("click",function(){u.Ac(t);const n=e.index;return u.gc(2).deleteSetting("SETTINGS_PAYMENT",n)}),u.hc(7,"translate"),u.Pb(8,"i",60),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit;u.Cb(2),u.nc("ngModel",t.name),u.Cb(2),u.nc("ngModel",t.options.value.value),u.Cb(2),u.oc("ngbTooltip",u.ic(7,3,"DELETE"))}}function F(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div",35),u.Ub(1,"button",61),u.ec("click",function(){return u.Ac(t),u.gc(2).saveSettings("SETTINGS_PAYMENT")}),u.Pb(2,"i",43),u.Ic(3," \xa0 "),u.Ub(4,"span"),u.Ic(5),u.hc(6,"translate"),u.Tb(),u.Tb(),u.Ic(7," \xa0 "),u.Ub(8,"button",59),u.ec("click",function(){return u.Ac(t),u.gc(2).resetSettingsForm("SETTINGS_PAYMENT")}),u.hc(9,"translate"),u.Pb(10,"i",62),u.Tb(),u.Tb()}2&t&&(u.Cb(5),u.Jc(u.ic(6,2,"SAVE")),u.Cb(3),u.oc("ngbTooltip",u.ic(9,4,"FORM_RESET")))}function $(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div"),u.Ub(1,"div",46),u.Ic(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"div",47),u.Ub(5,"table",20),u.Ub(6,"colgroup"),u.Pb(7,"col",64),u.Pb(8,"col",64),u.Pb(9,"col",49),u.Tb(),u.Ub(10,"thead"),u.Ub(11,"tr"),u.Ub(12,"th"),u.Ic(13),u.hc(14,"translate"),u.Tb(),u.Ub(15,"th"),u.Ic(16),u.hc(17,"translate"),u.Tb(),u.Pb(18,"th"),u.Tb(),u.Tb(),u.Ub(19,"tbody"),u.Gc(20,K,9,5,"tr",22),u.Tb(),u.Ub(21,"tfoot"),u.Ub(22,"tr",50),u.Ub(23,"td",51),u.Ub(24,"div",52),u.Gc(25,F,11,6,"div",53),u.Tb(),u.Ub(26,"button",54),u.ec("click",function(){return u.Ac(t),u.gc().addSetting("SETTINGS_PAYMENT")}),u.Pb(27,"i",55),u.Ic(28," \xa0 "),u.Ub(29,"span"),u.Ic(30),u.hc(31,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=u.gc();u.Gb("loading",t.settings.SETTINGS_PAYMENT.loading),u.Cb(2),u.Kc(" ",u.ic(3,8,"SETTINGS_PAYMENT_DESCRIPTION")," "),u.Cb(11),u.Kc(" ",u.ic(14,10,"NAME")," "),u.Cb(3),u.Kc(" ",u.ic(17,12,"VALUE")," "),u.Cb(4),u.nc("ngForOf",t.settings.SETTINGS_PAYMENT.values),u.Cb(5),u.nc("ngIf",t.settings.SETTINGS_PAYMENT.changed),u.Cb(5),u.Jc(u.ic(31,14,"ADD"))}}function j(t,e){if(1&t){const t=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td"),u.Ub(2,"input",56),u.ec("ngModelChange",function(t){return e.$implicit.name=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_CURRENCY")}),u.Tb(),u.Tb(),u.Ub(3,"td",57),u.Ub(4,"input",65),u.ec("ngModelChange",function(t){return e.$implicit.options.value.value=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_CURRENCY")}),u.Tb(),u.Tb(),u.Ub(5,"td",57),u.Ub(6,"button",59),u.ec("click",function(){u.Ac(t);const n=e.index;return u.gc(2).deleteSetting("SETTINGS_CURRENCY",n)}),u.hc(7,"translate"),u.Pb(8,"i",60),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit;u.Cb(2),u.nc("ngModel",t.name),u.Cb(2),u.nc("ngModel",t.options.value.value),u.Cb(2),u.oc("ngbTooltip",u.ic(7,3,"REMOVE"))}}function J(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div",35),u.Ub(1,"button",61),u.ec("click",function(){return u.Ac(t),u.gc(2).saveSettings("SETTINGS_CURRENCY")}),u.Pb(2,"i",43),u.Ic(3," \xa0 "),u.Ub(4,"span"),u.Ic(5),u.hc(6,"translate"),u.Tb(),u.Tb(),u.Ic(7," \xa0 "),u.Ub(8,"button",59),u.ec("click",function(){return u.Ac(t),u.gc(2).resetSettingsForm("SETTINGS_CURRENCY")}),u.hc(9,"translate"),u.Pb(10,"i",62),u.Tb(),u.Tb()}2&t&&(u.Cb(5),u.Jc(u.ic(6,2,"SAVE")),u.Cb(3),u.oc("ngbTooltip",u.ic(9,4,"FORM_RESET")))}function q(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div"),u.Ub(1,"div",46),u.Ic(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"div",47),u.Ub(5,"table",20),u.Ub(6,"colgroup"),u.Pb(7,"col",64),u.Pb(8,"col",64),u.Pb(9,"col",49),u.Tb(),u.Ub(10,"thead"),u.Ub(11,"tr"),u.Ub(12,"th"),u.Ic(13),u.hc(14,"translate"),u.Tb(),u.Ub(15,"th"),u.Ic(16),u.hc(17,"translate"),u.Tb(),u.Pb(18,"th"),u.Tb(),u.Tb(),u.Ub(19,"tbody"),u.Gc(20,j,9,5,"tr",22),u.Tb(),u.Ub(21,"tfoot"),u.Ub(22,"tr",50),u.Ub(23,"td",51),u.Ub(24,"div",52),u.Gc(25,J,11,6,"div",53),u.Tb(),u.Ub(26,"button",54),u.ec("click",function(){return u.Ac(t),u.gc().addSetting("SETTINGS_CURRENCY")}),u.Pb(27,"i",55),u.Ic(28," \xa0 "),u.Ub(29,"span"),u.Ic(30),u.hc(31,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=u.gc();u.Gb("loading",t.settings.SETTINGS_CURRENCY.loading),u.Cb(2),u.Kc(" ",u.ic(3,8,"SETTINGS_CURRENCY_RATE_DESCRIPTION")," "),u.Cb(11),u.Kc(" ",u.ic(14,10,"CURRENCY")," "),u.Cb(3),u.Kc(" ",u.ic(17,12,"VALUE")," "),u.Cb(4),u.nc("ngForOf",t.settings.SETTINGS_CURRENCY.values),u.Cb(5),u.nc("ngIf",t.settings.SETTINGS_CURRENCY.changed),u.Cb(5),u.Jc(u.ic(31,14,"ADD"))}}function H(t,e){if(1&t){const t=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td"),u.Ub(2,"input",56),u.ec("ngModelChange",function(t){return e.$implicit.name=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_PROMOCODES")}),u.Tb(),u.Tb(),u.Ub(3,"td",57),u.Ub(4,"input",56),u.ec("ngModelChange",function(t){return e.$implicit.options.value.value=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_PROMOCODES")}),u.Tb(),u.Tb(),u.Ub(5,"td",57),u.Ub(6,"input",68),u.ec("ngModelChange",function(t){return e.$implicit.options.quantity.value=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_PROMOCODES")}),u.Tb(),u.Tb(),u.Ub(7,"td",57),u.Ub(8,"button",59),u.ec("click",function(){u.Ac(t);const n=e.index;return u.gc(2).deleteSetting("SETTINGS_PROMOCODES",n)}),u.hc(9,"translate"),u.Pb(10,"i",60),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit;u.Cb(2),u.nc("ngModel",t.name),u.Cb(2),u.nc("ngModel",t.options.value.value),u.Cb(2),u.nc("ngModel",t.options.quantity.value),u.Cb(2),u.oc("ngbTooltip",u.ic(9,4,"REMOVE"))}}function W(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div",35),u.Ub(1,"button",61),u.ec("click",function(){return u.Ac(t),u.gc(2).saveSettings("SETTINGS_PROMOCODES")}),u.Pb(2,"i",43),u.Ic(3," \xa0 "),u.Ub(4,"span"),u.Ic(5),u.hc(6,"translate"),u.Tb(),u.Tb(),u.Ic(7," \xa0 "),u.Ub(8,"button",59),u.ec("click",function(){return u.Ac(t),u.gc(2).resetSettingsForm("SETTINGS_PROMOCODES")}),u.hc(9,"translate"),u.Pb(10,"i",62),u.Tb(),u.Tb()}2&t&&(u.Cb(5),u.Jc(u.ic(6,2,"SAVE")),u.Cb(3),u.oc("ngbTooltip",u.ic(9,4,"FORM_RESET")))}function z(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div"),u.Ub(1,"div",46),u.Ic(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"div",47),u.Ub(5,"table",20),u.Ub(6,"colgroup"),u.Pb(7,"col",66),u.Pb(8,"col",66),u.Pb(9,"col",66),u.Pb(10,"col",49),u.Tb(),u.Ub(11,"thead"),u.Ub(12,"tr"),u.Ub(13,"th"),u.Ic(14),u.hc(15,"translate"),u.Tb(),u.Ub(16,"th"),u.Ic(17),u.hc(18,"translate"),u.Tb(),u.Ub(19,"th"),u.Ic(20),u.hc(21,"translate"),u.Tb(),u.Pb(22,"th"),u.Tb(),u.Tb(),u.Ub(23,"tbody"),u.Gc(24,H,11,6,"tr",22),u.Tb(),u.Ub(25,"tfoot"),u.Ub(26,"tr",50),u.Ub(27,"td",67),u.Ub(28,"div",52),u.Gc(29,W,11,6,"div",53),u.Tb(),u.Ub(30,"button",54),u.ec("click",function(){return u.Ac(t),u.gc().addSetting("SETTINGS_PROMOCODES")}),u.Pb(31,"i",55),u.Ic(32," \xa0 "),u.Ub(33,"span"),u.Ic(34),u.hc(35,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=u.gc();u.Gb("loading",t.settings.SETTINGS_PROMOCODES.loading),u.Cb(2),u.Kc(" ",u.ic(3,9,"SETTINGS_PROMOCODES_DESCRIPTION")," "),u.Cb(12),u.Kc(" ",u.ic(15,11,"PROMO_CODE")," "),u.Cb(3),u.Kc(" ",u.ic(18,13,"VALUE")," "),u.Cb(3),u.Kc(" ",u.ic(21,15,"QUANTITY")," "),u.Cb(4),u.nc("ngForOf",t.settings.SETTINGS_PROMOCODES.values),u.Cb(5),u.nc("ngIf",t.settings.SETTINGS_PROMOCODES.changed),u.Cb(5),u.Jc(u.ic(35,17,"ADD"))}}function X(t,e){if(1&t){const t=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td"),u.Ub(2,"input",56),u.ec("ngModelChange",function(t){return e.$implicit.name=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_LANGUAGES")}),u.Tb(),u.Tb(),u.Ub(3,"td",57),u.Ub(4,"input",56),u.ec("ngModelChange",function(t){return e.$implicit.options.value.value=t})("ngModelChange",function(){return u.Ac(t),u.gc(2).onValueChanged("SETTINGS_LANGUAGES")}),u.Tb(),u.Tb(),u.Ub(5,"td",57),u.Ub(6,"button",59),u.ec("click",function(){u.Ac(t);const n=e.index;return u.gc(2).deleteSetting("SETTINGS_LANGUAGES",n)}),u.hc(7,"translate"),u.Pb(8,"i",60),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit;u.Cb(2),u.nc("ngModel",t.name),u.Cb(2),u.nc("ngModel",t.options.value.value),u.Cb(2),u.oc("ngbTooltip",u.ic(7,3,"DELETE"))}}function B(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div",35),u.Ub(1,"button",61),u.ec("click",function(){return u.Ac(t),u.gc(2).saveSettings("SETTINGS_LANGUAGES")}),u.Pb(2,"i",43),u.Ic(3," \xa0 "),u.Ub(4,"span"),u.Ic(5),u.hc(6,"translate"),u.Tb(),u.Tb(),u.Ic(7," \xa0 "),u.Ub(8,"button",59),u.ec("click",function(){return u.Ac(t),u.gc(2).resetSettingsForm("SETTINGS_LANGUAGES")}),u.hc(9,"translate"),u.Pb(10,"i",62),u.Tb(),u.Tb()}2&t&&(u.Cb(5),u.Jc(u.ic(6,2,"SAVE")),u.Cb(3),u.oc("ngbTooltip",u.ic(9,4,"FORM_RESET")))}function Q(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div"),u.Ub(1,"div",46),u.Ic(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"div",47),u.Ub(5,"table",20),u.Ub(6,"colgroup"),u.Pb(7,"col",64),u.Pb(8,"col",64),u.Pb(9,"col",49),u.Tb(),u.Ub(10,"thead"),u.Ub(11,"tr"),u.Ub(12,"th"),u.Ic(13),u.hc(14,"translate"),u.Tb(),u.Ub(15,"th"),u.Ic(16),u.hc(17,"translate"),u.Tb(),u.Pb(18,"th"),u.Tb(),u.Tb(),u.Ub(19,"tbody"),u.Gc(20,X,9,5,"tr",22),u.Tb(),u.Ub(21,"tfoot"),u.Ub(22,"tr",50),u.Ub(23,"td",51),u.Ub(24,"div",52),u.Gc(25,B,11,6,"div",53),u.Tb(),u.Ub(26,"button",54),u.ec("click",function(){return u.Ac(t),u.gc().addSetting("SETTINGS_LANGUAGES")}),u.Pb(27,"i",55),u.Ic(28," \xa0 "),u.Ub(29,"span"),u.Ic(30),u.hc(31,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&t){const t=u.gc();u.Gb("loading",t.settings.SETTINGS_LANGUAGES.loading),u.Cb(2),u.Kc(" ",u.ic(3,8,"SETTINGS_LANGUAGES_DESCRIPTION")," "),u.Cb(11),u.Kc(" ",u.ic(14,10,"LANGUAGE")," "),u.Cb(3),u.Kc(" ",u.ic(17,12,"LOCALE")," "),u.Cb(4),u.nc("ngForOf",t.settings.SETTINGS_LANGUAGES.values),u.Cb(5),u.nc("ngIf",t.settings.SETTINGS_LANGUAGES.changed),u.Cb(5),u.Jc(u.ic(31,14,"ADD"))}}function Z(t,e){1&t&&(u.Ub(0,"div",79),u.Ic(1),u.hc(2,"translate"),u.Tb()),2&t&&(u.Cb(1),u.Kc(" ",u.ic(2,1,"NOTHING_FOUND"),". "))}function tt(t,e){if(1&t&&(u.Ub(0,"tr"),u.Ub(1,"td"),u.Ic(2),u.Tb(),u.Ub(3,"td",57),u.Ic(4),u.Tb(),u.Tb()),2&t){const t=e.$implicit;u.Cb(2),u.Jc(t.name),u.Cb(2),u.Jc(t.version)}}const et=function(t){return{name:t}};function nt(t,e){if(1&t&&(u.Ub(0,"div",80),u.Ub(1,"div",47),u.Ub(2,"table",20),u.Ub(3,"colgroup"),u.Pb(4,"col",81),u.Pb(5,"col",48),u.Tb(),u.Ub(6,"thead"),u.Ub(7,"tr"),u.Ub(8,"th"),u.Ic(9),u.hc(10,"translate"),u.Tb(),u.Ub(11,"th"),u.Ic(12),u.hc(13,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ub(14,"tbody"),u.Gc(15,tt,5,2,"tr",22),u.hc(16,"filter"),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){const t=u.gc(2);u.Cb(9),u.Kc(" ",u.ic(10,3,"NAME")," "),u.Cb(3),u.Kc(" ",u.ic(13,5,"VERSION")," "),u.Cb(3),u.nc("ngForOf",u.jc(16,7,t.composerPackages,u.sc(10,et,t.composerPackageNameFilter)))}}const it=function(t){return{loading:t}},ct=function(t){return{"form-control-search-clear":t}};function st(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div",69),u.Ub(1,"div",70),u.Ub(2,"button",71),u.ec("click",function(e){return u.Ac(t),u.gc().modalSystemUpdate(e)}),u.Pb(3,"i",72),u.Ic(4),u.hc(5,"translate"),u.Tb(),u.Tb(),u.Ub(6,"div",73),u.Ic(7),u.hc(8,"translate"),u.Tb(),u.Ub(9,"div",74),u.Ub(10,"input",75),u.ec("ngModelChange",function(e){return u.Ac(t),u.gc().composerPackageNameFilter=e}),u.hc(11,"translate"),u.Tb(),u.Ub(12,"span",76),u.ec("click",function(){return u.Ac(t),u.gc().composerPackageNameFilter=""}),u.Tb(),u.Tb(),u.Gc(13,Z,3,3,"div",77),u.hc(14,"filter"),u.Gc(15,nt,17,12,"ng-template",null,78,u.Hc),u.Tb()}if(2&t){const t=u.zc(16),e=u.gc();u.nc("ngClass",u.sc(17,it,e.settings.SETTINGS_COMPOSER_PACKAGES.loading)),u.Cb(4),u.Kc(" ",u.ic(5,8,"SYSTEM_UPDATE")," "),u.Cb(3),u.Kc(" ",u.ic(8,10,"SETTINGS_COMPOSER_PACKAGES_DESCRIPTION")," "),u.Cb(2),u.nc("ngClass",u.sc(19,ct,!!e.composerPackageNameFilter)),u.Cb(1),u.pc("placeholder","",u.ic(11,12,"SEARCH"),"..."),u.nc("ngModel",e.composerPackageNameFilter),u.Cb(3),u.nc("ngIf",0===u.jc(14,14,e.composerPackages,u.sc(21,et,e.composerPackageNameFilter)).length)("ngIfElse",t)}}const bt=[{path:"",component:(()=>{class t{constructor(t,e,n,i,c){this.messageService=t,this.settingsService=e,this.appSettings=n,this.modalService=i,this.translateService=c,this.loading=!1,this.forms={},this.composerPackages=[],this.composerPackageName="",this.composerPackageVersion="",this.composerPackageNameFilter="",this.settings={SETTINGS_MAIN:new l.a(!1,!0,[],null),SETTINGS_ORDER_STATUSES:new l.a(!1,!0,[],{template:{value:"userEmailStatus",type:"text"},color:{value:"#00aeff",type:"text"}}),SETTINGS_DELIVERY:new l.a(!1,!0,[],{price:{value:0,type:"number"},priceLimit:{value:0,type:"number"}}),SETTINGS_PROMOCODES:new l.a(!1,!0,[],{value:{value:"",type:"text"},quantity:{value:0,type:"number"}}),SETTINGS_PAYMENT:new l.a(!1,!0,[],{value:{value:"",type:"text"}}),SETTINGS_CURRENCY:new l.a(!1,!0,[],{value:{value:1,type:"number"}}),SETTINGS_LANGUAGES:new l.a(!1,!0,[],{value:{value:"",type:"text"}}),SETTINGS_COMPOSER_PACKAGES:new l.a(!1,!0,[],null)},this.destroyed$=new b.a,this.baseUrl=this.appSettings.settings.webApiUrl+"/"}ngOnInit(){this.getSettings(),this.getComposerPackages()}getSettings(){this.settingsService.getList().pipe(Object(a.a)(this.destroyed$)).subscribe(t=>{t.SETTINGS_MAIN&&(this.settings.SETTINGS_MAIN.values=t.SETTINGS_MAIN,this.settings.SETTINGS_MAIN.defaultValues=Object(o.cloneDeep)(t.SETTINGS_MAIN),this.settings.SETTINGS_MAIN.loading=!1),t.SETTINGS_ORDER_STATUSES&&(this.settings.SETTINGS_ORDER_STATUSES.values=t.SETTINGS_ORDER_STATUSES,this.settings.SETTINGS_ORDER_STATUSES.defaultValues=Object(o.cloneDeep)(t.SETTINGS_ORDER_STATUSES),this.settings.SETTINGS_ORDER_STATUSES.loading=!1),t.SETTINGS_DELIVERY&&(this.settings.SETTINGS_DELIVERY.values=t.SETTINGS_DELIVERY,this.settings.SETTINGS_DELIVERY.defaultValues=Object(o.cloneDeep)(t.SETTINGS_DELIVERY),this.settings.SETTINGS_DELIVERY.loading=!1),t.SETTINGS_PAYMENT&&(this.settings.SETTINGS_PAYMENT.values=t.SETTINGS_PAYMENT,this.settings.SETTINGS_PAYMENT.defaultValues=Object(o.cloneDeep)(t.SETTINGS_PAYMENT),this.settings.SETTINGS_PAYMENT.loading=!1),t.SETTINGS_CURRENCY&&(this.settings.SETTINGS_CURRENCY.values=t.SETTINGS_CURRENCY,this.settings.SETTINGS_CURRENCY.defaultValues=Object(o.cloneDeep)(t.SETTINGS_CURRENCY),this.settings.SETTINGS_CURRENCY.loading=!1),t.SETTINGS_PROMOCODES&&(this.settings.SETTINGS_PROMOCODES.values=t.SETTINGS_PROMOCODES,this.settings.SETTINGS_PROMOCODES.defaultValues=Object(o.cloneDeep)(t.SETTINGS_PROMOCODES),this.settings.SETTINGS_PROMOCODES.loading=!1),t.SETTINGS_LANGUAGES&&(this.settings.SETTINGS_LANGUAGES.values=t.SETTINGS_LANGUAGES,this.settings.SETTINGS_LANGUAGES.defaultValues=Object(o.cloneDeep)(t.SETTINGS_LANGUAGES),this.settings.SETTINGS_LANGUAGES.loading=!1)})}addSetting(t){const e={name:"",description:"",options:Object(o.cloneDeep)(this.settings[t].defaultOptions)};this.settings[t].values.push(e)}deleteSetting(t,e){this.settings[t].values.splice(e,1),this.settings[t].changed=!0}saveSettings(t,e){e&&e.preventDefault();const n=this.settings[t].values;this.settings[t].loading=!0,this.settingsService.updateGroup(t,n).pipe(Object(a.a)(this.destroyed$)).subscribe({next:e=>{this.messageService.add({key:"message",severity:"success",summary:this.getLangString("MESSAGE"),detail:this.getLangString("DATA_SAVED_SUCCESSFULLY")}),this.settings[t].defaultValues=e,this.settings[t].loading=!1,this.settings[t].changed=!1,this.pageReload()},error:e=>{e.error&&this.messageService.add({key:"message",severity:"error",summary:this.getLangString("ERROR"),detail:e.error}),this.settings[t].loading=!1}})}getFieldTypeByName(t){return t.toLowerCase().indexOf("password")>-1?"password":"text"}getCurrentLocale(){const t=Object(o.findIndex)(this.settings.SETTINGS_MAIN.values,{name:"locale"});return t>-1?String(this.settings.SETTINGS_MAIN.values[t].value):""}getLangString(t){return this.translateService.store.translations[this.translateService.currentLang]&&this.translateService.store.translations[this.translateService.currentLang][t]||t}resetSettingsForm(t){const e=this.settings[t].defaultValues.length;e<this.settings[t].values.length&&this.settings[t].values.splice(e-1,this.settings[t].values.length-e),Object(o.extend)(this.settings[t].values,Object(o.cloneDeepWith)(this.settings[t].defaultValues)),this.settings[t].loading=!1,this.settings[t].changed=!1}getActionSuccessMessage(t){let e="";switch(t){case"clear_cache":e=this.getLangString("CACHE_CLEAR_SUCCESSFULLY");break;case"clear_system_cache":e=this.getLangString("CACHE_SYSTEM_CLEAR_SUCCESSFULLY");break;case"update_filters":e=this.getLangString("UPDATE_FILTERS_SUCCESSFULLY")}return e}runActionPost(t){this.loading=!0,this.settingsService.runActionPost(t).pipe(Object(a.a)(this.destroyed$)).subscribe({next:e=>{if(this.loading=!1,["update_internationalization"].indexOf(t)>-1)this.pageReload();else if(e&&e.success){const e=this.getActionSuccessMessage(t);e&&this.messageService.add({key:"message",severity:"success",summary:this.getLangString("MESSAGE"),detail:e})}},error:t=>{t.error&&this.messageService.add({key:"message",severity:"error",summary:this.getLangString("ERROR"),detail:t.error}),this.loading=!1}})}getComposerPackages(){this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!0,this.settingsService.getComposerPackagesList().pipe(Object(a.a)(this.destroyed$)).subscribe({next:t=>{this.composerPackages=t,this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1},error:t=>{this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1}})}requirePackage(t){t&&t.preventDefault(),this.composerPackageName&&(this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!0,this.settingsService.composerRequirePackage(this.composerPackageName,this.composerPackageVersion).pipe(Object(a.a)(this.destroyed$)).subscribe({next:t=>{this.composerPackageName="",this.composerPackageVersion="",this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1},error:t=>{t.error&&this.messageService.add({key:"message",severity:"error",summary:this.getLangString("ERROR"),detail:t.error}),this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1}}))}modalSystemUpdate(t){t&&t.preventDefault(),this.modalRef&&(this.modalRef.dismiss(),this.modalRef=null),this.modalRef=this.modalService.open(R,{backdrop:"static",keyboard:!1}),this.modalRef.result.then(t=>{"completed"===t&&(this.messageService.add({key:"message",severity:"success",summary:this.getLangString("MESSAGE"),detail:this.getLangString("SYSTEM_UPDATE_COMPLETED")}),setTimeout(this.pageReload.bind(this),2e3))})}onValueChanged(t){this.settings[t].changed=!0}inputDisableToggle(t,e,n){n&&n.preventDefault(),t.readOnly=!t.readOnly,e&&(e.style.display="none"!==e.style.display?"none":"")}pageReload(){window.location.reload()}}return t.title="SETTINGS",t.\u0275fac=function(e){return new(e||t)(u.Ob(r.b),u.Ob(g.a),u.Ob(T.a),u.Ob(S.h),u.Ob(h.d))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-settings"]],features:[u.Bb([r.b])],decls:80,vars:54,consts:[[1,"card"],[1,"card-body"],[1,"float-md-left"],[1,"icon-cog"],[1,"float-md-right"],["ngbDropdown","","placement","bottom-right",1,"d-block","d-md-inline-block"],["ngbDropdownToggle","",1,"btn","btn-info","btn-sm","d-block","d-md-inline-block","width-100","width-md-auto","mb-2","mb-md-0"],[1,"icon-repeat"],["ngbDropdownMenu",""],[1,"dropdown-item",3,"click"],[1,"icon-reload","text-info"],[1,"icon-repeat","text-info"],[1,"icon-globe","text-info"],[1,"icon-tag","text-info"],[1,"clearfix"],[1,"row"],[1,"col-md-6"],[1,"label-filled"],[1,"card","mb-4"],[1,"table-responsive-"],[1,"table","table-divided","mb-0"],["width","50%"],[4,"ngFor","ngForOf"],["activeIds","accordion-settings-1",1,"ngb-accordion",3,"closeOthers"],["id","accordion-settings-1",3,"title"],["ngbPanelContent",""],["id","accordion-settings-2",3,"title"],["id","accordion-settings-3",3,"title"],["id","accordion-settings-4",3,"title"],["id","accordion-settings-7",3,"title"],["id","accordion-settings-5",3,"title"],["id","accordion-settings-6",3,"title"],["key","message","position","bottom-right"],[1,"show-on-hover-parent"],[1,"show-on-hover-child","position-relative"],[1,"pos-absolute-right"],[1,"badge","badge-secondary"],[1,"input-group","input-group-sm","input-group-on-hover"],["readonly","",1,"form-control",3,"type","ngModel","ngModelChange"],["inputField",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-success",2,"display","none",3,"ngbTooltip","click"],["button",""],[1,"icon-check"],["type","button",1,"btn","btn-outline-secondary",3,"ngbTooltip","click"],[1,"icon-edit"],[1,"text-muted"],[1,"table-responsive"],["width","40%"],["width","10%"],[1,"bg-faded"],["colspan","4",1,"text-center"],[1,"relative"],["class","pos-absolute-right",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"icon-plus"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"text-center"],[3,"appendTo","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary","btn-sm",3,"ngbTooltip","click"],[1,"icon-cross"],["type","button",1,"btn","btn-info","btn-sm",3,"click"],[1,"icon-reload"],["type","number","step","1","min","0",1,"form-control","form-control-sm","mwidth-80","m-auto",3,"ngModel","ngModelChange"],["width","45%"],["type","number","step","1","min","0",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["width","30%"],["colspan","5",1,"text-center"],["type","number",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[3,"ngClass"],[1,"float-right"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"icon-arrow-up-circle"],[1,"pb-3","text-muted","mb-2"],[1,"form-control-search","mb-3",3,"ngClass"],["type","text",1,"form-control","form-control-sm",3,"placeholder","ngModel","ngModelChange"],[3,"click"],["class","alert alert-info py-1 px-3",4,"ngIf","ngIfElse"],["composerPackagesTable",""],[1,"alert","alert-info","py-1","px-3"],[1,"max-height400"],["width","60%"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Ub(2,"div",2),u.Ub(3,"h3"),u.Pb(4,"i",3),u.Ic(5),u.hc(6,"translate"),u.Tb(),u.Tb(),u.Ub(7,"div",4),u.Ub(8,"div",5),u.Ub(9,"button",6),u.Pb(10,"i",7),u.Ic(11," \xa0 "),u.Ub(12,"span"),u.Ic(13),u.hc(14,"translate"),u.Tb(),u.Tb(),u.Ub(15,"div",8),u.Ub(16,"button",9),u.ec("click",function(){return e.runActionPost("clear_cache")}),u.Pb(17,"i",10),u.Ic(18),u.hc(19,"translate"),u.Tb(),u.Ub(20,"button",9),u.ec("click",function(){return e.runActionPost("clear_system_cache")}),u.Pb(21,"i",11),u.Ic(22),u.hc(23,"translate"),u.Tb(),u.Ub(24,"button",9),u.ec("click",function(){return e.runActionPost("update_internationalization")}),u.Pb(25,"i",12),u.Ic(26),u.hc(27,"translate"),u.Tb(),u.Ub(28,"button",9),u.ec("click",function(){return e.runActionPost("update_filters")}),u.Pb(29,"i",13),u.Ic(30),u.hc(31,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Pb(32,"div",14),u.Pb(33,"hr"),u.Ub(34,"div",15),u.Ub(35,"div",16),u.Ub(36,"div"),u.Ub(37,"label",17),u.Ic(38),u.hc(39,"translate"),u.Tb(),u.Ub(40,"div",18),u.Ub(41,"div",19),u.Ub(42,"table",20),u.Ub(43,"colgroup"),u.Pb(44,"col",21),u.Pb(45,"col",21),u.Tb(),u.Ub(46,"thead"),u.Ub(47,"tr"),u.Ub(48,"th"),u.Ic(49),u.hc(50,"translate"),u.Tb(),u.Ub(51,"th"),u.Ic(52),u.hc(53,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ub(54,"tbody"),u.Gc(55,y,22,12,"tr",22),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(56,"div",16),u.Ub(57,"ngb-accordion",23),u.Ub(58,"ngb-panel",24),u.hc(59,"translate"),u.Gc(60,V,36,19,"ng-template",25),u.Tb(),u.Ub(61,"ngb-panel",26),u.hc(62,"translate"),u.Gc(63,x,31,19,"ng-template",25),u.Tb(),u.Ub(64,"ngb-panel",27),u.hc(65,"translate"),u.Gc(66,$,32,16,"ng-template",25),u.Tb(),u.Ub(67,"ngb-panel",28),u.hc(68,"translate"),u.Gc(69,q,32,16,"ng-template",25),u.Tb(),u.Ub(70,"ngb-panel",29),u.hc(71,"translate"),u.Gc(72,z,36,19,"ng-template",25),u.Tb(),u.Ub(73,"ngb-panel",30),u.hc(74,"translate"),u.Gc(75,Q,32,16,"ng-template",25),u.Tb(),u.Ub(76,"ngb-panel",31),u.hc(77,"translate"),u.Gc(78,st,17,23,"ng-template",25),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Pb(79,"p-toast",32)),2&t&&(u.Cb(1),u.Gb("loading",e.loading),u.Cb(4),u.Kc(" ",u.ic(6,22,"SETTINGS")," "),u.Cb(8),u.Jc(u.ic(14,24,"CLEAR_CACHE")),u.Cb(5),u.Kc(" \xa0 ",u.ic(19,26,"CLEAR_FILE_CACHE")," "),u.Cb(4),u.Kc(" \xa0 ",u.ic(23,28,"CLEAR_SYSTEM_CACHE")," "),u.Cb(4),u.Kc(" \xa0 ",u.ic(27,30,"UPDATE_DICTIONARIES")," "),u.Cb(4),u.Kc(" \xa0 ",u.ic(31,32,"UPDATE_FILTERS")," "),u.Cb(6),u.Gb("loading",e.settings.SETTINGS_MAIN.loading),u.Cb(2),u.Jc(u.ic(39,34,"SETTINGS_MAIN")),u.Cb(11),u.Jc(u.ic(50,36,"PARAMETER")),u.Cb(3),u.Jc(u.ic(53,38,"VALUE")),u.Cb(3),u.nc("ngForOf",e.settings.SETTINGS_MAIN.values),u.Cb(2),u.nc("closeOthers",!0),u.Cb(1),u.nc("title",u.ic(59,40,"SETTINGS_ORDER_STATUSES")),u.Cb(3),u.nc("title",u.ic(62,42,"SETTINGS_DELIVERY")),u.Cb(3),u.nc("title",u.ic(65,44,"SETTINGS_PAYMENT")),u.Cb(3),u.nc("title",u.ic(68,46,"SETTINGS_CURRENCY")),u.Cb(3),u.nc("title",u.ic(71,48,"SETTINGS_PROMOCODES")),u.Cb(3),u.nc("title",u.ic(74,50,"SETTINGS_LANGUAGES")),u.Cb(3),u.nc("title",u.ic(77,52,"SETTINGS_COMPOSER_PACKAGES")))},directives:[S.d,S.g,S.f,i.o,S.a,S.p,S.q,P.a,O.b,O.n,O.p,S.v,i.p,M.a,O.r,i.n],pipes:[h.c,D],encapsulation:2}),t})()}];let at=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({imports:[[s.f.forChild(bt)],s.f]}),t})(),ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({providers:[],imports:[[i.c,c.a,at]]}),t})()},"8Eda":function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{constructor(t,e,n,i,c){this.changed=t,this.loading=e,this.values=n,this.defaultOptions=i,this.defaultValues=c}}},b1TM:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("tk/3"),c=n("LRne"),s=n("JIr8"),b=(n("8Eda"),n("wgQU")),a=n("fXoL");let o=(()=>{class t{constructor(t){this.http=t,this.headers=new i.e({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}),this.requestUrl="",this.baseUrl="",this.requestUrl="/admin/settings",this.baseUrl=b.a.getBaseUrl()}setRequestUrl(t){this.requestUrl=t}getRequestUrl(){return this.requestUrl}getList(){return this.http.get(this.getRequestUrl()).pipe(Object(s.a)(this.handleError()))}clearSystemCache(){const t=this.getRequestUrl()+"/clear_system_cache";return this.http.post(t,{},{headers:this.headers}).pipe(Object(s.a)(this.handleError()))}runActionPost(t){const e=this.getRequestUrl()+`/${t}`;return this.http.post(e,{},{headers:this.headers}).pipe(Object(s.a)(this.handleError()))}updateGroup(t,e){const n=this.getRequestUrl()+`/${t}`;return this.http.put(n,e,{headers:this.headers}).pipe(Object(s.a)(this.handleError()))}getComposerPackagesList(){return this.http.get(this.getRequestUrl()+"_composer_installed_packages").pipe(Object(s.a)(this.handleError()))}composerRequirePackage(t,e){const n=this.getRequestUrl()+"_composer_require_package";return this.http.post(n,{packageName:t,packageVersion:e},{headers:this.headers}).pipe(Object(s.a)(this.handleError()))}postFormData(t,e){const n=new i.e({enctype:"multipart/form-data",Accept:"application/json","X-Requested-With":"XMLHttpRequest"});return this.http.post(this.baseUrl+e,t,{headers:n}).pipe(Object(s.a)(this.handleError()))}runAction(t){return this.http.post(this.baseUrl+t,{},{headers:this.headers}).pipe(Object(s.a)(this.handleError()))}handleError(t="operation",e){return t=>{if(!(t.status&&[401,403].indexOf(t.status)>-1)){if(t.error)throw t.error;return Object(c.a)(e)}window.location.href=this.baseUrl+"/login"}}}return t.\u0275fac=function(e){return new(e||t)(a.bc(i.a))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);