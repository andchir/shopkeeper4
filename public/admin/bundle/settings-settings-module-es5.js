!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"7wo0":function(e,i,c){"use strict";c.r(i),c.d(i,"SettingsModule",function(){return St});var a=c("ofXK"),b=c("d2mR"),o=c("tyNb"),r=c("XNiG"),s=c("1G5W"),l=c("LvDl"),u=c("7zfz"),T=c("8Eda"),g=c("wgQU"),d=c("b1TM"),S=c("c863"),p=c("fXoL"),E=c("1kSV"),h=c("sYmb"),f=["filesWidget"];function U(t,e){1&t&&p.Pb(0,"i",16)}function v(t,e){1&t&&p.Pb(0,"i",16)}function C(t,e){1&t&&p.Pb(0,"i",16)}function I(t,e){1&t&&p.Pb(0,"i",17)}function m(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div",18),p.Pb(1,"app-file-widget",19,20),p.Ub(3,"div",21),p.Ub(4,"button",22),p.ec("click",function(t){return p.Ac(n),p.gc().skipStepHandler(t)}),p.Ic(5),p.hc(6,"translate"),p.Tb(),p.Tb(),p.Tb()}2&t&&(p.Cb(1),p.nc("hasPreviewImage",!1)("allowMultiple",!1)("allowedExtensions",".zip"),p.Cb(4),p.Kc(" ",p.ic(6,4,"SKIP")," "))}function N(t,e){if(1&t&&(p.Ub(0,"pre",28),p.Ic(1),p.Tb()),2&t){var n=p.gc(2);p.Cb(1),p.Jc(n.changelogContent)}}function G(t,e){if(1&t&&(p.Ub(0,"div"),p.Ub(1,"div",23),p.Ic(2),p.hc(3,"translate"),p.Ub(4,"span"),p.Ic(5),p.Tb(),p.Pb(6,"br"),p.Ic(7),p.hc(8,"translate"),p.Ub(9,"b",24),p.Ic(10),p.Tb(),p.Tb(),p.Ub(11,"ngb-accordion",25),p.Ub(12,"ngb-panel",26),p.hc(13,"translate"),p.Gc(14,N,2,1,"ng-template",27),p.Tb(),p.Tb(),p.Tb()),2&t){var n=p.gc();p.Cb(2),p.Kc(" ",p.ic(3,5,"CURRENT_VERSION"),": "),p.Cb(3),p.Jc(n.currentVersion),p.Cb(2),p.Kc(" ",p.ic(8,7,"NEW_VERSION"),": "),p.Cb(3),p.Jc(n.version),p.Cb(2),p.nc("title",p.ic(13,9,"CHANGELOG"))}}function _(t,e){if(1&t&&(p.Ub(0,"div",29),p.Pb(1,"ngb-progressbar",30),p.Tb()),2&t){var n=p.gc();p.Cb(1),p.nc("striped",!0)("animated",!0)("value",n.updatePercent)("showValue",!0)}}function A(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div",31),p.Ub(1,"button",32),p.ec("click",function(){return p.Ac(n),p.gc().errorMessage=""}),p.Ub(2,"span",33),p.Ic(3,"\xd7"),p.Tb(),p.Tb(),p.Ic(4),p.hc(5,"translate"),p.Tb()}if(2&t){var i=p.gc();p.Cb(4),p.Kc(" ",p.ic(5,1,i.errorMessage)," ")}}var P,R,O=function(t){return{"no-events loading":t}},M=function(t){return{"text-muted":t}},y=((P=function(){function e(n,i,c){t(this,e),this.activeModal=n,this.dataService=i,this.appSettings=c,this.loading=!1,this.destroyed$=new r.a,this.stepNumber=1,this.updatePercent=0,this.isUpdateStarted=!1,this.isCollapsed=!0}return n(e,[{key:"ngOnInit",value:function(){this.currentVersion=this.appSettings.settings.version}},{key:"nextStepHandler",value:function(t){var e=this;switch(t&&t.preventDefault(),this.errorMessage="",this.stepNumber){case 1:if(0===this.filesWidget.filesRaw.length)return void(this.errorMessage="PLEASE_SELECT_FILE");this.isUpdateStarted=!1;var n=new FormData;n.append("file",this.filesWidget.filesRaw[0]),this.loading=!0,this.dataService.postFormData(n,"admin/system_update/upload").pipe(Object(s.a)(this.destroyed$)).subscribe({next:function(t){e.loading=!1,e.stepNumber=2},error:function(t){t.error&&(e.errorMessage=t.error),e.loading=!1}});break;case 2:this.loading=!0,this.dataService.runAction("admin/system_update/pre_update").pipe(Object(s.a)(this.destroyed$)).subscribe({next:function(t){e.stepNumber=3,e.version=t.version||"",e.changelogContent=t.changelogContent||"",e.loading=!1},error:function(t){t.error&&(e.errorMessage=t.error),e.loading=!1}});break;case 3:this.updateRunStep("vendors")}}},{key:"skipStepHandler",value:function(t){t&&t.preventDefault(),this.errorMessage="",this.stepNumber++}},{key:"updateRunStep",value:function(t){var e=this,n=["vendor","src","template","config"],i=n.indexOf(t);0===i&&(this.loading=!0,this.isUpdateStarted=!0,this.updatePercent=0),this.dataService.runAction("admin/system_update/execute/".concat(t)).pipe(Object(s.a)(this.destroyed$)).subscribe({next:function(t){e.updatePercent=(i+1)/n.length*100,100===e.updatePercent?(e.stepNumber=4,setTimeout(e.onUpdateComplete.bind(e),1e3)):e.updateRunStep(n[i+1])},error:function(t){t.error&&(e.errorMessage=t.error),e.loading=!1,e.isUpdateStarted=!1,e.updatePercent=0}})}},{key:"closeModal",value:function(t){this.activeModal.close(t)}},{key:"onUpdateComplete",value:function(){this.loading=!1,this.closeModal("completed")}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}}]),e}()).\u0275fac=function(t){return new(t||P)(p.Ob(E.b),p.Ob(d.a),p.Ob(g.a))},P.\u0275cmp=p.Ib({type:P,selectors:[["app-modal-file-upload"]],viewQuery:function(t,e){var n;1&t&&p.Mc(f,1),2&t&&p.yc(n=p.fc())&&(e.filesWidget=n.first)},decls:34,vars:42,consts:[[3,"ngClass"],[1,"modal-header","d-block"],[1,"modal-title","text-success"],[1,"icon-arrow-up-circle"],[1,"modal-body"],[1,"mb-3",3,"ngClass"],["class","icon-check-circle mr-2 text-success",4,"ngIf","ngIfElse"],["iconCircleTemplate",""],["class","show-on-hover-parent",4,"ngIf"],[4,"ngIf"],["class","py-4",4,"ngIf"],["class","alert alert-danger mt-3 mb-0",4,"ngIf"],[1,"modal-footer","d-block","pt-0"],["type","button",1,"btn","btn-primary","btn-wide",3,"disabled","click"],[1,"icon-arrow-right","ml-2"],["type","button",1,"btn","btn-secondary","btn-wide",3,"disabled","click"],[1,"icon-check-circle","mr-2","text-success"],[1,"icon-circle","mr-2"],[1,"show-on-hover-parent"],["fieldName","file",3,"hasPreviewImage","allowMultiple","allowedExtensions"],["filesWidget",""],[1,"pos-absolute-left-bottom10","show-on-hover"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"text-success","mb-2"],[1,"big"],[1,"ngb-accordion"],["id","accordion-settings-1",3,"title"],["ngbPanelContent",""],[1,"max-height400","mb-0"],[1,"py-4"],["type","info","textType","white",3,"striped","animated","value","showValue"],[1,"alert","alert-danger","mt-3","mb-0"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(t,e){if(1&t&&(p.Ub(0,"div",0),p.Ub(1,"div",1),p.Ub(2,"h4",2),p.Pb(3,"i",3),p.Ic(4),p.hc(5,"translate"),p.Tb(),p.Tb(),p.Ub(6,"div",4),p.Ub(7,"div"),p.Ub(8,"div",5),p.Gc(9,U,1,0,"i",6),p.Ic(10),p.hc(11,"translate"),p.Tb(),p.Ub(12,"div",5),p.Gc(13,v,1,0,"i",6),p.Ic(14),p.hc(15,"translate"),p.Tb(),p.Ub(16,"div",5),p.Gc(17,C,1,0,"i",6),p.Ic(18),p.hc(19,"translate"),p.Tb(),p.Gc(20,I,1,0,"ng-template",null,7,p.Hc),p.Tb(),p.Gc(22,m,7,6,"div",8),p.Gc(23,G,15,11,"div",9),p.Gc(24,_,2,4,"div",10),p.Gc(25,A,6,3,"div",11),p.Tb(),p.Ub(26,"div",12),p.Ub(27,"button",13),p.ec("click",function(t){return e.nextStepHandler(t)}),p.Ic(28),p.hc(29,"translate"),p.Pb(30,"i",14),p.Tb(),p.Ub(31,"button",15),p.ec("click",function(){return e.closeModal("close")}),p.Ic(32),p.hc(33,"translate"),p.Tb(),p.Tb(),p.Tb()),2&t){var n=p.zc(21);p.nc("ngClass",p.sc(34,O,e.loading)),p.Cb(4),p.Kc(" ",p.ic(5,22,"SYSTEM_UPDATE")," "),p.Cb(4),p.nc("ngClass",p.sc(36,M,1!=e.stepNumber)),p.Cb(1),p.nc("ngIf",e.stepNumber>1)("ngIfElse",n),p.Cb(1),p.Kc(" ",p.ic(11,24,"SYSTEM_UPDATE_STEP1_DESCRIPTION")," "),p.Cb(2),p.nc("ngClass",p.sc(38,M,2!=e.stepNumber)),p.Cb(1),p.nc("ngIf",e.stepNumber>2)("ngIfElse",n),p.Cb(1),p.Kc(" ",p.ic(15,26,"SYSTEM_UPDATE_STEP2_DESCRIPTION")," "),p.Cb(2),p.nc("ngClass",p.sc(40,M,3!=e.stepNumber)),p.Cb(1),p.nc("ngIf",e.stepNumber>3)("ngIfElse",n),p.Cb(1),p.Kc(" ",p.ic(19,28,"SYSTEM_UPDATE_STEP3_DESCRIPTION")," "),p.Cb(4),p.nc("ngIf",1==e.stepNumber),p.Cb(1),p.nc("ngIf",3==e.stepNumber&&!e.isUpdateStarted),p.Cb(1),p.nc("ngIf",e.isUpdateStarted),p.Cb(1),p.nc("ngIf",e.errorMessage),p.Cb(2),p.nc("disabled",e.loading),p.Cb(1),p.Kc(" ",p.ic(29,30,"CONTINUE")," "),p.Cb(3),p.nc("disabled",e.loading),p.Cb(1),p.Kc(" ",p.ic(33,32,"CLOSE")," ")}},directives:[a.n,a.p,S.a,E.a,E.p,E.q,E.s],pipes:[h.c],encapsulation:2}),P),k=c("Gxio"),D=c("3Pt+"),L=c("bv7W"),V=((R=function(){function e(){t(this,e)}return n(e,[{key:"transform",value:function(t,e){if(e&&Array.isArray(t)){var n=Object.keys(e);return t.filter(function(t){return n.reduce(function(n,i){return n&&t[i].indexOf(e[i])>-1},!0)})}return t}}]),e}()).\u0275fac=function(t){return new(t||R)},R.\u0275pipe=p.Nb({name:"filter",type:R,pure:!1}),R);function w(t,e){if(1&t){var n=p.Vb();p.Ub(0,"tr"),p.Ub(1,"td"),p.Ub(2,"div",33),p.Ub(3,"div",34),p.Ub(4,"div",35),p.Ub(5,"span",36),p.Ic(6),p.Tb(),p.Tb(),p.Tb(),p.Ub(7,"span"),p.Ic(8),p.hc(9,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Ub(10,"td"),p.Ub(11,"div",37),p.Ub(12,"input",38,39),p.ec("ngModelChange",function(t){return e.$implicit.value=t}),p.Tb(),p.Ub(14,"div",40),p.Ub(15,"button",41,42),p.ec("click",function(t){return p.Ac(n),p.gc().saveSettings("SETTINGS_MAIN",t)}),p.hc(17,"translate"),p.Pb(18,"i",43),p.Tb(),p.Ub(19,"button",44),p.ec("click",function(t){p.Ac(n);var e=p.zc(13),i=p.zc(16);return p.gc().inputDisableToggle(e,i,t)}),p.hc(20,"translate"),p.Pb(21,"i",45),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=e.$implicit,c=p.gc();p.Cb(6),p.Jc(i.name),p.Cb(2),p.Jc(p.ic(9,6,i.name)),p.Cb(4),p.oc("type",c.getFieldTypeByName(i.name)),p.nc("ngModel",i.value),p.Cb(3),p.oc("ngbTooltip",p.ic(17,8,"SAVE")),p.Cb(4),p.oc("ngbTooltip",p.ic(20,10,"EDIT"))}}function Y(t,e){if(1&t){var n=p.Vb();p.Ub(0,"tr"),p.Ub(1,"td"),p.Ub(2,"input",56),p.ec("ngModelChange",function(t){return e.$implicit.name=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_ORDER_STATUSES")}),p.Tb(),p.Tb(),p.Ub(3,"td"),p.Ub(4,"input",56),p.ec("ngModelChange",function(t){return e.$implicit.options.template.value=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_ORDER_STATUSES")}),p.Tb(),p.Tb(),p.Ub(5,"td",57),p.Ub(6,"p-colorPicker",58),p.ec("ngModelChange",function(t){return e.$implicit.options.color.value=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_ORDER_STATUSES")}),p.Tb(),p.Tb(),p.Ub(7,"td",57),p.Ub(8,"button",59),p.ec("click",function(){p.Ac(n);var t=e.index;return p.gc(2).deleteSetting("SETTINGS_ORDER_STATUSES",t)}),p.hc(9,"translate"),p.Pb(10,"i",60),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=e.$implicit;p.Cb(2),p.nc("ngModel",i.name),p.Cb(2),p.nc("ngModel",i.options.template.value),p.Cb(2),p.nc("appendTo","body")("ngModel",i.options.color.value),p.Cb(2),p.oc("ngbTooltip",p.ic(9,5,"DELETE"))}}function x(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div",35),p.Ub(1,"button",61),p.ec("click",function(){return p.Ac(n),p.gc(2).saveSettings("SETTINGS_ORDER_STATUSES")}),p.Pb(2,"i",43),p.Ic(3," \xa0 "),p.Ub(4,"span"),p.Ic(5),p.hc(6,"translate"),p.Tb(),p.Tb(),p.Ic(7," \xa0 "),p.Ub(8,"button",59),p.ec("click",function(){return p.Ac(n),p.gc(2).resetSettingsForm("SETTINGS_ORDER_STATUSES")}),p.hc(9,"translate"),p.Pb(10,"i",62),p.Tb(),p.Tb()}2&t&&(p.Cb(5),p.Jc(p.ic(6,2,"SAVE")),p.Cb(3),p.oc("ngbTooltip",p.ic(9,4,"FORM_RESET")))}function K(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div"),p.Ub(1,"div",46),p.Ic(2),p.hc(3,"translate"),p.Tb(),p.Ub(4,"div",47),p.Ub(5,"table",20),p.Ub(6,"colgroup"),p.Pb(7,"col",48),p.Pb(8,"col",48),p.Pb(9,"col",49),p.Pb(10,"col",49),p.Tb(),p.Ub(11,"thead"),p.Ub(12,"tr"),p.Ub(13,"th"),p.Ic(14),p.hc(15,"translate"),p.Tb(),p.Ub(16,"th"),p.Ic(17),p.hc(18,"translate"),p.Tb(),p.Ub(19,"th"),p.Ic(20),p.hc(21,"translate"),p.Tb(),p.Pb(22,"th"),p.Tb(),p.Tb(),p.Ub(23,"tbody"),p.Gc(24,Y,11,7,"tr",22),p.Tb(),p.Ub(25,"tfoot"),p.Ub(26,"tr",50),p.Ub(27,"td",51),p.Ub(28,"div",52),p.Gc(29,x,11,6,"div",53),p.Tb(),p.Ub(30,"button",54),p.ec("click",function(){return p.Ac(n),p.gc().addSetting("SETTINGS_ORDER_STATUSES")}),p.Pb(31,"i",55),p.Ic(32," \xa0 "),p.Ub(33,"span"),p.Ic(34),p.hc(35,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=p.gc();p.Gb("loading",i.settings.SETTINGS_DELIVERY.loading),p.Cb(2),p.Kc(" ",p.ic(3,9,"SETTINGS_STATUSES_DESCRIPTION")," "),p.Cb(12),p.Kc(" ",p.ic(15,11,"NAME")," "),p.Cb(3),p.Kc(" ",p.ic(18,13,"MAIL_TEMPLATE")," "),p.Cb(3),p.Kc(" ",p.ic(21,15,"COLOR")," "),p.Cb(4),p.nc("ngForOf",i.settings.SETTINGS_ORDER_STATUSES.values),p.Cb(5),p.nc("ngIf",i.settings.SETTINGS_ORDER_STATUSES.changed),p.Cb(5),p.Jc(p.ic(35,17,"ADD"))}}function F(t,e){if(1&t){var n=p.Vb();p.Ub(0,"tr"),p.Ub(1,"td"),p.Ub(2,"input",56),p.ec("ngModelChange",function(t){return e.$implicit.name=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_DELIVERY")}),p.Tb(),p.Tb(),p.Ub(3,"td",57),p.Ub(4,"input",63),p.ec("ngModelChange",function(t){return e.$implicit.options.price.value=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_DELIVERY")}),p.Tb(),p.Tb(),p.Ub(5,"td",57),p.Ub(6,"input",63),p.ec("ngModelChange",function(t){return e.$implicit.options.priceLimit.value=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_DELIVERY")}),p.Tb(),p.Tb(),p.Ub(7,"td",57),p.Ub(8,"button",59),p.ec("click",function(){p.Ac(n);var t=e.index;return p.gc(2).deleteSetting("SETTINGS_DELIVERY",t)}),p.hc(9,"translate"),p.Pb(10,"i",60),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=e.$implicit;p.Cb(2),p.nc("ngModel",i.name),p.Cb(2),p.nc("ngModel",i.options.price.value),p.Cb(2),p.nc("ngModel",i.options.priceLimit.value),p.Cb(2),p.oc("ngbTooltip",p.ic(9,4,"DELETE"))}}function j(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div",35),p.Ub(1,"button",61),p.ec("click",function(){return p.Ac(n),p.gc(2).saveSettings("SETTINGS_DELIVERY")}),p.Pb(2,"i",43),p.Ic(3," \xa0 "),p.Ub(4,"span"),p.Ic(5),p.hc(6,"translate"),p.Tb(),p.Tb(),p.Ic(7," \xa0 "),p.Ub(8,"button",59),p.ec("click",function(){return p.Ac(n),p.gc(2).resetSettingsForm("SETTINGS_DELIVERY")}),p.hc(9,"translate"),p.Pb(10,"i",62),p.Tb(),p.Tb()}2&t&&(p.Cb(5),p.Jc(p.ic(6,2,"SAVE")),p.Cb(3),p.oc("ngbTooltip",p.ic(9,4,"FORM_RESET")))}function $(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div"),p.Ub(1,"div",46),p.Ic(2),p.hc(3,"translate"),p.Tb(),p.Ub(4,"div",47),p.Ub(5,"table",20),p.Ub(6,"thead"),p.Ub(7,"tr"),p.Ub(8,"th"),p.Ic(9),p.hc(10,"translate"),p.Tb(),p.Ub(11,"th"),p.Ic(12),p.hc(13,"translate"),p.Tb(),p.Ub(14,"th"),p.Ic(15),p.hc(16,"translate"),p.Tb(),p.Pb(17,"th"),p.Tb(),p.Tb(),p.Ub(18,"tbody"),p.Gc(19,F,11,6,"tr",22),p.Tb(),p.Ub(20,"tfoot"),p.Ub(21,"tr",50),p.Ub(22,"td",51),p.Ub(23,"div",52),p.Gc(24,j,11,6,"div",53),p.Tb(),p.Ub(25,"button",54),p.ec("click",function(){return p.Ac(n),p.gc().addSetting("SETTINGS_DELIVERY")}),p.Pb(26,"i",55),p.Ic(27," \xa0 "),p.Ub(28,"span"),p.Ic(29),p.hc(30,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=p.gc();p.Gb("loading",i.settings.SETTINGS_DELIVERY.loading),p.Cb(2),p.Kc(" ",p.ic(3,9,"SETTINGS_DELIVERY_DESCRIPTION")," "),p.Cb(7),p.Kc(" ",p.ic(10,11,"NAME")," "),p.Cb(3),p.Kc(" ",p.ic(13,13,"PRICE")," "),p.Cb(3),p.Kc(" ",p.ic(16,15,"MAX_PRICE")," "),p.Cb(4),p.nc("ngForOf",i.settings.SETTINGS_DELIVERY.values),p.Cb(5),p.nc("ngIf",i.settings.SETTINGS_DELIVERY.changed),p.Cb(5),p.Jc(p.ic(30,17,"ADD"))}}function J(t,e){if(1&t){var n=p.Vb();p.Ub(0,"tr"),p.Ub(1,"td"),p.Ub(2,"input",56),p.ec("ngModelChange",function(t){return e.$implicit.name=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_PAYMENT")}),p.Tb(),p.Tb(),p.Ub(3,"td",57),p.Ub(4,"input",56),p.ec("ngModelChange",function(t){return e.$implicit.options.value.value=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_PAYMENT")}),p.Tb(),p.Tb(),p.Ub(5,"td",57),p.Ub(6,"button",59),p.ec("click",function(){p.Ac(n);var t=e.index;return p.gc(2).deleteSetting("SETTINGS_PAYMENT",t)}),p.hc(7,"translate"),p.Pb(8,"i",60),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=e.$implicit;p.Cb(2),p.nc("ngModel",i.name),p.Cb(2),p.nc("ngModel",i.options.value.value),p.Cb(2),p.oc("ngbTooltip",p.ic(7,3,"DELETE"))}}function q(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div",35),p.Ub(1,"button",61),p.ec("click",function(){return p.Ac(n),p.gc(2).saveSettings("SETTINGS_PAYMENT")}),p.Pb(2,"i",43),p.Ic(3," \xa0 "),p.Ub(4,"span"),p.Ic(5),p.hc(6,"translate"),p.Tb(),p.Tb(),p.Ic(7," \xa0 "),p.Ub(8,"button",59),p.ec("click",function(){return p.Ac(n),p.gc(2).resetSettingsForm("SETTINGS_PAYMENT")}),p.hc(9,"translate"),p.Pb(10,"i",62),p.Tb(),p.Tb()}2&t&&(p.Cb(5),p.Jc(p.ic(6,2,"SAVE")),p.Cb(3),p.oc("ngbTooltip",p.ic(9,4,"FORM_RESET")))}function H(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div"),p.Ub(1,"div",46),p.Ic(2),p.hc(3,"translate"),p.Tb(),p.Ub(4,"div",47),p.Ub(5,"table",20),p.Ub(6,"colgroup"),p.Pb(7,"col",64),p.Pb(8,"col",64),p.Pb(9,"col",49),p.Tb(),p.Ub(10,"thead"),p.Ub(11,"tr"),p.Ub(12,"th"),p.Ic(13),p.hc(14,"translate"),p.Tb(),p.Ub(15,"th"),p.Ic(16),p.hc(17,"translate"),p.Tb(),p.Pb(18,"th"),p.Tb(),p.Tb(),p.Ub(19,"tbody"),p.Gc(20,J,9,5,"tr",22),p.Tb(),p.Ub(21,"tfoot"),p.Ub(22,"tr",50),p.Ub(23,"td",51),p.Ub(24,"div",52),p.Gc(25,q,11,6,"div",53),p.Tb(),p.Ub(26,"button",54),p.ec("click",function(){return p.Ac(n),p.gc().addSetting("SETTINGS_PAYMENT")}),p.Pb(27,"i",55),p.Ic(28," \xa0 "),p.Ub(29,"span"),p.Ic(30),p.hc(31,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=p.gc();p.Gb("loading",i.settings.SETTINGS_PAYMENT.loading),p.Cb(2),p.Kc(" ",p.ic(3,8,"SETTINGS_PAYMENT_DESCRIPTION")," "),p.Cb(11),p.Kc(" ",p.ic(14,10,"NAME")," "),p.Cb(3),p.Kc(" ",p.ic(17,12,"VALUE")," "),p.Cb(4),p.nc("ngForOf",i.settings.SETTINGS_PAYMENT.values),p.Cb(5),p.nc("ngIf",i.settings.SETTINGS_PAYMENT.changed),p.Cb(5),p.Jc(p.ic(31,14,"ADD"))}}function W(t,e){if(1&t){var n=p.Vb();p.Ub(0,"tr"),p.Ub(1,"td"),p.Ub(2,"input",56),p.ec("ngModelChange",function(t){return e.$implicit.name=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_CURRENCY")}),p.Tb(),p.Tb(),p.Ub(3,"td",57),p.Ub(4,"input",65),p.ec("ngModelChange",function(t){return e.$implicit.options.value.value=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_CURRENCY")}),p.Tb(),p.Tb(),p.Ub(5,"td",57),p.Ub(6,"button",59),p.ec("click",function(){p.Ac(n);var t=e.index;return p.gc(2).deleteSetting("SETTINGS_CURRENCY",t)}),p.hc(7,"translate"),p.Pb(8,"i",60),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=e.$implicit;p.Cb(2),p.nc("ngModel",i.name),p.Cb(2),p.nc("ngModel",i.options.value.value),p.Cb(2),p.oc("ngbTooltip",p.ic(7,3,"REMOVE"))}}function z(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div",35),p.Ub(1,"button",61),p.ec("click",function(){return p.Ac(n),p.gc(2).saveSettings("SETTINGS_CURRENCY")}),p.Pb(2,"i",43),p.Ic(3," \xa0 "),p.Ub(4,"span"),p.Ic(5),p.hc(6,"translate"),p.Tb(),p.Tb(),p.Ic(7," \xa0 "),p.Ub(8,"button",59),p.ec("click",function(){return p.Ac(n),p.gc(2).resetSettingsForm("SETTINGS_CURRENCY")}),p.hc(9,"translate"),p.Pb(10,"i",62),p.Tb(),p.Tb()}2&t&&(p.Cb(5),p.Jc(p.ic(6,2,"SAVE")),p.Cb(3),p.oc("ngbTooltip",p.ic(9,4,"FORM_RESET")))}function X(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div"),p.Ub(1,"div",46),p.Ic(2),p.hc(3,"translate"),p.Tb(),p.Ub(4,"div",47),p.Ub(5,"table",20),p.Ub(6,"colgroup"),p.Pb(7,"col",64),p.Pb(8,"col",64),p.Pb(9,"col",49),p.Tb(),p.Ub(10,"thead"),p.Ub(11,"tr"),p.Ub(12,"th"),p.Ic(13),p.hc(14,"translate"),p.Tb(),p.Ub(15,"th"),p.Ic(16),p.hc(17,"translate"),p.Tb(),p.Pb(18,"th"),p.Tb(),p.Tb(),p.Ub(19,"tbody"),p.Gc(20,W,9,5,"tr",22),p.Tb(),p.Ub(21,"tfoot"),p.Ub(22,"tr",50),p.Ub(23,"td",51),p.Ub(24,"div",52),p.Gc(25,z,11,6,"div",53),p.Tb(),p.Ub(26,"button",54),p.ec("click",function(){return p.Ac(n),p.gc().addSetting("SETTINGS_CURRENCY")}),p.Pb(27,"i",55),p.Ic(28," \xa0 "),p.Ub(29,"span"),p.Ic(30),p.hc(31,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=p.gc();p.Gb("loading",i.settings.SETTINGS_CURRENCY.loading),p.Cb(2),p.Kc(" ",p.ic(3,8,"SETTINGS_CURRENCY_RATE_DESCRIPTION")," "),p.Cb(11),p.Kc(" ",p.ic(14,10,"CURRENCY")," "),p.Cb(3),p.Kc(" ",p.ic(17,12,"VALUE")," "),p.Cb(4),p.nc("ngForOf",i.settings.SETTINGS_CURRENCY.values),p.Cb(5),p.nc("ngIf",i.settings.SETTINGS_CURRENCY.changed),p.Cb(5),p.Jc(p.ic(31,14,"ADD"))}}function B(t,e){if(1&t){var n=p.Vb();p.Ub(0,"tr"),p.Ub(1,"td"),p.Ub(2,"input",56),p.ec("ngModelChange",function(t){return e.$implicit.name=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_PROMOCODES")}),p.Tb(),p.Tb(),p.Ub(3,"td",57),p.Ub(4,"input",56),p.ec("ngModelChange",function(t){return e.$implicit.options.value.value=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_PROMOCODES")}),p.Tb(),p.Tb(),p.Ub(5,"td",57),p.Ub(6,"input",68),p.ec("ngModelChange",function(t){return e.$implicit.options.quantity.value=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_PROMOCODES")}),p.Tb(),p.Tb(),p.Ub(7,"td",57),p.Ub(8,"button",59),p.ec("click",function(){p.Ac(n);var t=e.index;return p.gc(2).deleteSetting("SETTINGS_PROMOCODES",t)}),p.hc(9,"translate"),p.Pb(10,"i",60),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=e.$implicit;p.Cb(2),p.nc("ngModel",i.name),p.Cb(2),p.nc("ngModel",i.options.value.value),p.Cb(2),p.nc("ngModel",i.options.quantity.value),p.Cb(2),p.oc("ngbTooltip",p.ic(9,4,"REMOVE"))}}function Q(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div",35),p.Ub(1,"button",61),p.ec("click",function(){return p.Ac(n),p.gc(2).saveSettings("SETTINGS_PROMOCODES")}),p.Pb(2,"i",43),p.Ic(3," \xa0 "),p.Ub(4,"span"),p.Ic(5),p.hc(6,"translate"),p.Tb(),p.Tb(),p.Ic(7," \xa0 "),p.Ub(8,"button",59),p.ec("click",function(){return p.Ac(n),p.gc(2).resetSettingsForm("SETTINGS_PROMOCODES")}),p.hc(9,"translate"),p.Pb(10,"i",62),p.Tb(),p.Tb()}2&t&&(p.Cb(5),p.Jc(p.ic(6,2,"SAVE")),p.Cb(3),p.oc("ngbTooltip",p.ic(9,4,"FORM_RESET")))}function Z(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div"),p.Ub(1,"div",46),p.Ic(2),p.hc(3,"translate"),p.Tb(),p.Ub(4,"div",47),p.Ub(5,"table",20),p.Ub(6,"colgroup"),p.Pb(7,"col",66),p.Pb(8,"col",66),p.Pb(9,"col",66),p.Pb(10,"col",49),p.Tb(),p.Ub(11,"thead"),p.Ub(12,"tr"),p.Ub(13,"th"),p.Ic(14),p.hc(15,"translate"),p.Tb(),p.Ub(16,"th"),p.Ic(17),p.hc(18,"translate"),p.Tb(),p.Ub(19,"th"),p.Ic(20),p.hc(21,"translate"),p.Tb(),p.Pb(22,"th"),p.Tb(),p.Tb(),p.Ub(23,"tbody"),p.Gc(24,B,11,6,"tr",22),p.Tb(),p.Ub(25,"tfoot"),p.Ub(26,"tr",50),p.Ub(27,"td",67),p.Ub(28,"div",52),p.Gc(29,Q,11,6,"div",53),p.Tb(),p.Ub(30,"button",54),p.ec("click",function(){return p.Ac(n),p.gc().addSetting("SETTINGS_PROMOCODES")}),p.Pb(31,"i",55),p.Ic(32," \xa0 "),p.Ub(33,"span"),p.Ic(34),p.hc(35,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=p.gc();p.Gb("loading",i.settings.SETTINGS_PROMOCODES.loading),p.Cb(2),p.Kc(" ",p.ic(3,9,"SETTINGS_PROMOCODES_DESCRIPTION")," "),p.Cb(12),p.Kc(" ",p.ic(15,11,"PROMO_CODE")," "),p.Cb(3),p.Kc(" ",p.ic(18,13,"VALUE")," "),p.Cb(3),p.Kc(" ",p.ic(21,15,"QUANTITY")," "),p.Cb(4),p.nc("ngForOf",i.settings.SETTINGS_PROMOCODES.values),p.Cb(5),p.nc("ngIf",i.settings.SETTINGS_PROMOCODES.changed),p.Cb(5),p.Jc(p.ic(35,17,"ADD"))}}function tt(t,e){if(1&t){var n=p.Vb();p.Ub(0,"tr"),p.Ub(1,"td"),p.Ub(2,"input",56),p.ec("ngModelChange",function(t){return e.$implicit.name=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_LANGUAGES")}),p.Tb(),p.Tb(),p.Ub(3,"td",57),p.Ub(4,"input",56),p.ec("ngModelChange",function(t){return e.$implicit.options.value.value=t})("ngModelChange",function(){return p.Ac(n),p.gc(2).onValueChanged("SETTINGS_LANGUAGES")}),p.Tb(),p.Tb(),p.Ub(5,"td",57),p.Ub(6,"button",59),p.ec("click",function(){p.Ac(n);var t=e.index;return p.gc(2).deleteSetting("SETTINGS_LANGUAGES",t)}),p.hc(7,"translate"),p.Pb(8,"i",60),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=e.$implicit;p.Cb(2),p.nc("ngModel",i.name),p.Cb(2),p.nc("ngModel",i.options.value.value),p.Cb(2),p.oc("ngbTooltip",p.ic(7,3,"DELETE"))}}function et(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div",35),p.Ub(1,"button",61),p.ec("click",function(){return p.Ac(n),p.gc(2).saveSettings("SETTINGS_LANGUAGES")}),p.Pb(2,"i",43),p.Ic(3," \xa0 "),p.Ub(4,"span"),p.Ic(5),p.hc(6,"translate"),p.Tb(),p.Tb(),p.Ic(7," \xa0 "),p.Ub(8,"button",59),p.ec("click",function(){return p.Ac(n),p.gc(2).resetSettingsForm("SETTINGS_LANGUAGES")}),p.hc(9,"translate"),p.Pb(10,"i",62),p.Tb(),p.Tb()}2&t&&(p.Cb(5),p.Jc(p.ic(6,2,"SAVE")),p.Cb(3),p.oc("ngbTooltip",p.ic(9,4,"FORM_RESET")))}function nt(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div"),p.Ub(1,"div",46),p.Ic(2),p.hc(3,"translate"),p.Tb(),p.Ub(4,"div",47),p.Ub(5,"table",20),p.Ub(6,"colgroup"),p.Pb(7,"col",64),p.Pb(8,"col",64),p.Pb(9,"col",49),p.Tb(),p.Ub(10,"thead"),p.Ub(11,"tr"),p.Ub(12,"th"),p.Ic(13),p.hc(14,"translate"),p.Tb(),p.Ub(15,"th"),p.Ic(16),p.hc(17,"translate"),p.Tb(),p.Pb(18,"th"),p.Tb(),p.Tb(),p.Ub(19,"tbody"),p.Gc(20,tt,9,5,"tr",22),p.Tb(),p.Ub(21,"tfoot"),p.Ub(22,"tr",50),p.Ub(23,"td",51),p.Ub(24,"div",52),p.Gc(25,et,11,6,"div",53),p.Tb(),p.Ub(26,"button",54),p.ec("click",function(){return p.Ac(n),p.gc().addSetting("SETTINGS_LANGUAGES")}),p.Pb(27,"i",55),p.Ic(28," \xa0 "),p.Ub(29,"span"),p.Ic(30),p.hc(31,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()}if(2&t){var i=p.gc();p.Gb("loading",i.settings.SETTINGS_LANGUAGES.loading),p.Cb(2),p.Kc(" ",p.ic(3,8,"SETTINGS_LANGUAGES_DESCRIPTION")," "),p.Cb(11),p.Kc(" ",p.ic(14,10,"LANGUAGE")," "),p.Cb(3),p.Kc(" ",p.ic(17,12,"LOCALE")," "),p.Cb(4),p.nc("ngForOf",i.settings.SETTINGS_LANGUAGES.values),p.Cb(5),p.nc("ngIf",i.settings.SETTINGS_LANGUAGES.changed),p.Cb(5),p.Jc(p.ic(31,14,"ADD"))}}function it(t,e){1&t&&(p.Ub(0,"div",79),p.Ic(1),p.hc(2,"translate"),p.Tb()),2&t&&(p.Cb(1),p.Kc(" ",p.ic(2,1,"NOTHING_FOUND"),". "))}function ct(t,e){if(1&t&&(p.Ub(0,"tr"),p.Ub(1,"td"),p.Ic(2),p.Tb(),p.Ub(3,"td",57),p.Ic(4),p.Tb(),p.Tb()),2&t){var n=e.$implicit;p.Cb(2),p.Jc(n.name),p.Cb(2),p.Jc(n.version)}}var at=function(t){return{name:t}};function bt(t,e){if(1&t&&(p.Ub(0,"div",80),p.Ub(1,"div",47),p.Ub(2,"table",20),p.Ub(3,"colgroup"),p.Pb(4,"col",81),p.Pb(5,"col",48),p.Tb(),p.Ub(6,"thead"),p.Ub(7,"tr"),p.Ub(8,"th"),p.Ic(9),p.hc(10,"translate"),p.Tb(),p.Ub(11,"th"),p.Ic(12),p.hc(13,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Ub(14,"tbody"),p.Gc(15,ct,5,2,"tr",22),p.hc(16,"filter"),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&t){var n=p.gc(2);p.Cb(9),p.Kc(" ",p.ic(10,3,"NAME")," "),p.Cb(3),p.Kc(" ",p.ic(13,5,"VERSION")," "),p.Cb(3),p.nc("ngForOf",p.jc(16,7,n.composerPackages,p.sc(10,at,n.composerPackageNameFilter)))}}var ot=function(t){return{loading:t}},rt=function(t){return{"form-control-search-clear":t}};function st(t,e){if(1&t){var n=p.Vb();p.Ub(0,"div",69),p.Ub(1,"div",70),p.Ub(2,"button",71),p.ec("click",function(t){return p.Ac(n),p.gc().modalSystemUpdate(t)}),p.Pb(3,"i",72),p.Ic(4),p.hc(5,"translate"),p.Tb(),p.Tb(),p.Ub(6,"div",73),p.Ic(7),p.hc(8,"translate"),p.Tb(),p.Ub(9,"div",74),p.Ub(10,"input",75),p.ec("ngModelChange",function(t){return p.Ac(n),p.gc().composerPackageNameFilter=t}),p.hc(11,"translate"),p.Tb(),p.Ub(12,"span",76),p.ec("click",function(){return p.Ac(n),p.gc().composerPackageNameFilter=""}),p.Tb(),p.Tb(),p.Gc(13,it,3,3,"div",77),p.hc(14,"filter"),p.Gc(15,bt,17,12,"ng-template",null,78,p.Hc),p.Tb()}if(2&t){var i=p.zc(16),c=p.gc();p.nc("ngClass",p.sc(17,ot,c.settings.SETTINGS_COMPOSER_PACKAGES.loading)),p.Cb(4),p.Kc(" ",p.ic(5,8,"SYSTEM_UPDATE")," "),p.Cb(3),p.Kc(" ",p.ic(8,10,"SETTINGS_COMPOSER_PACKAGES_DESCRIPTION")," "),p.Cb(2),p.nc("ngClass",p.sc(19,rt,!!c.composerPackageNameFilter)),p.Cb(1),p.pc("placeholder","",p.ic(11,12,"SEARCH"),"..."),p.nc("ngModel",c.composerPackageNameFilter),p.Cb(3),p.nc("ngIf",0===p.jc(14,14,c.composerPackages,p.sc(21,at,c.composerPackageNameFilter)).length)("ngIfElse",i)}}var lt,ut,Tt,gt=[{path:"",component:(lt=function(){function e(n,i,c,a,b){t(this,e),this.messageService=n,this.settingsService=i,this.appSettings=c,this.modalService=a,this.translateService=b,this.loading=!1,this.forms={},this.composerPackages=[],this.composerPackageName="",this.composerPackageVersion="",this.composerPackageNameFilter="",this.settings={SETTINGS_MAIN:new T.a(!1,!0,[],null),SETTINGS_ORDER_STATUSES:new T.a(!1,!0,[],{template:{value:"userEmailStatus",type:"text"},color:{value:"#00aeff",type:"text"}}),SETTINGS_DELIVERY:new T.a(!1,!0,[],{price:{value:0,type:"number"},priceLimit:{value:0,type:"number"}}),SETTINGS_PROMOCODES:new T.a(!1,!0,[],{value:{value:"",type:"text"},quantity:{value:0,type:"number"}}),SETTINGS_PAYMENT:new T.a(!1,!0,[],{value:{value:"",type:"text"}}),SETTINGS_CURRENCY:new T.a(!1,!0,[],{value:{value:1,type:"number"}}),SETTINGS_LANGUAGES:new T.a(!1,!0,[],{value:{value:"",type:"text"}}),SETTINGS_COMPOSER_PACKAGES:new T.a(!1,!0,[],null)},this.destroyed$=new r.a,this.baseUrl=this.appSettings.settings.webApiUrl+"/"}return n(e,[{key:"ngOnInit",value:function(){this.getSettings(),this.getComposerPackages()}},{key:"getSettings",value:function(){var t=this;this.settingsService.getList().pipe(Object(s.a)(this.destroyed$)).subscribe(function(e){e.SETTINGS_MAIN&&(t.settings.SETTINGS_MAIN.values=e.SETTINGS_MAIN,t.settings.SETTINGS_MAIN.defaultValues=Object(l.cloneDeep)(e.SETTINGS_MAIN),t.settings.SETTINGS_MAIN.loading=!1),e.SETTINGS_ORDER_STATUSES&&(t.settings.SETTINGS_ORDER_STATUSES.values=e.SETTINGS_ORDER_STATUSES,t.settings.SETTINGS_ORDER_STATUSES.defaultValues=Object(l.cloneDeep)(e.SETTINGS_ORDER_STATUSES),t.settings.SETTINGS_ORDER_STATUSES.loading=!1),e.SETTINGS_DELIVERY&&(t.settings.SETTINGS_DELIVERY.values=e.SETTINGS_DELIVERY,t.settings.SETTINGS_DELIVERY.defaultValues=Object(l.cloneDeep)(e.SETTINGS_DELIVERY),t.settings.SETTINGS_DELIVERY.loading=!1),e.SETTINGS_PAYMENT&&(t.settings.SETTINGS_PAYMENT.values=e.SETTINGS_PAYMENT,t.settings.SETTINGS_PAYMENT.defaultValues=Object(l.cloneDeep)(e.SETTINGS_PAYMENT),t.settings.SETTINGS_PAYMENT.loading=!1),e.SETTINGS_CURRENCY&&(t.settings.SETTINGS_CURRENCY.values=e.SETTINGS_CURRENCY,t.settings.SETTINGS_CURRENCY.defaultValues=Object(l.cloneDeep)(e.SETTINGS_CURRENCY),t.settings.SETTINGS_CURRENCY.loading=!1),e.SETTINGS_PROMOCODES&&(t.settings.SETTINGS_PROMOCODES.values=e.SETTINGS_PROMOCODES,t.settings.SETTINGS_PROMOCODES.defaultValues=Object(l.cloneDeep)(e.SETTINGS_PROMOCODES),t.settings.SETTINGS_PROMOCODES.loading=!1),e.SETTINGS_LANGUAGES&&(t.settings.SETTINGS_LANGUAGES.values=e.SETTINGS_LANGUAGES,t.settings.SETTINGS_LANGUAGES.defaultValues=Object(l.cloneDeep)(e.SETTINGS_LANGUAGES),t.settings.SETTINGS_LANGUAGES.loading=!1)})}},{key:"addSetting",value:function(t){var e={name:"",description:"",options:Object(l.cloneDeep)(this.settings[t].defaultOptions)};this.settings[t].values.push(e)}},{key:"deleteSetting",value:function(t,e){this.settings[t].values.splice(e,1),this.settings[t].changed=!0}},{key:"saveSettings",value:function(t,e){var n=this;e&&e.preventDefault();var i=this.settings[t].values;this.settings[t].loading=!0,this.settingsService.updateGroup(t,i).pipe(Object(s.a)(this.destroyed$)).subscribe({next:function(e){n.messageService.add({key:"message",severity:"success",summary:n.getLangString("MESSAGE"),detail:n.getLangString("DATA_SAVED_SUCCESSFULLY")}),n.settings[t].defaultValues=e,n.settings[t].loading=!1,n.settings[t].changed=!1,n.pageReload()},error:function(e){e.error&&n.messageService.add({key:"message",severity:"error",summary:n.getLangString("ERROR"),detail:e.error}),n.settings[t].loading=!1}})}},{key:"getFieldTypeByName",value:function(t){return t.toLowerCase().indexOf("password")>-1?"password":"text"}},{key:"getCurrentLocale",value:function(){var t=Object(l.findIndex)(this.settings.SETTINGS_MAIN.values,{name:"locale"});return t>-1?String(this.settings.SETTINGS_MAIN.values[t].value):""}},{key:"getLangString",value:function(t){return this.translateService.store.translations[this.translateService.currentLang]&&this.translateService.store.translations[this.translateService.currentLang][t]||t}},{key:"resetSettingsForm",value:function(t){var e=this.settings[t].defaultValues.length;e<this.settings[t].values.length&&this.settings[t].values.splice(e-1,this.settings[t].values.length-e),Object(l.extend)(this.settings[t].values,Object(l.cloneDeepWith)(this.settings[t].defaultValues)),this.settings[t].loading=!1,this.settings[t].changed=!1}},{key:"getActionSuccessMessage",value:function(t){var e="";switch(t){case"clear_cache":e=this.getLangString("CACHE_CLEAR_SUCCESSFULLY");break;case"clear_system_cache":e=this.getLangString("CACHE_SYSTEM_CLEAR_SUCCESSFULLY");break;case"update_filters":e=this.getLangString("UPDATE_FILTERS_SUCCESSFULLY")}return e}},{key:"runActionPost",value:function(t){var e=this;this.loading=!0,this.settingsService.runActionPost(t).pipe(Object(s.a)(this.destroyed$)).subscribe({next:function(n){if(e.loading=!1,["update_internationalization"].indexOf(t)>-1)e.pageReload();else if(n&&n.success){var i=e.getActionSuccessMessage(t);i&&e.messageService.add({key:"message",severity:"success",summary:e.getLangString("MESSAGE"),detail:i})}},error:function(t){t.error&&e.messageService.add({key:"message",severity:"error",summary:e.getLangString("ERROR"),detail:t.error}),e.loading=!1}})}},{key:"getComposerPackages",value:function(){var t=this;this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!0,this.settingsService.getComposerPackagesList().pipe(Object(s.a)(this.destroyed$)).subscribe({next:function(e){t.composerPackages=e,t.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1},error:function(e){t.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1}})}},{key:"requirePackage",value:function(t){var e=this;t&&t.preventDefault(),this.composerPackageName&&(this.settings.SETTINGS_COMPOSER_PACKAGES.loading=!0,this.settingsService.composerRequirePackage(this.composerPackageName,this.composerPackageVersion).pipe(Object(s.a)(this.destroyed$)).subscribe({next:function(t){e.composerPackageName="",e.composerPackageVersion="",e.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1},error:function(t){t.error&&e.messageService.add({key:"message",severity:"error",summary:e.getLangString("ERROR"),detail:t.error}),e.settings.SETTINGS_COMPOSER_PACKAGES.loading=!1}}))}},{key:"modalSystemUpdate",value:function(t){var e=this;t&&t.preventDefault(),this.modalRef&&(this.modalRef.dismiss(),this.modalRef=null),this.modalRef=this.modalService.open(y,{backdrop:"static",keyboard:!1}),this.modalRef.result.then(function(t){"completed"===t&&(e.messageService.add({key:"message",severity:"success",summary:e.getLangString("MESSAGE"),detail:e.getLangString("SYSTEM_UPDATE_COMPLETED")}),setTimeout(e.pageReload.bind(e),2e3))})}},{key:"onValueChanged",value:function(t){this.settings[t].changed=!0}},{key:"inputDisableToggle",value:function(t,e,n){n&&n.preventDefault(),t.readOnly=!t.readOnly,e&&(e.style.display="none"!==e.style.display?"none":"")}},{key:"pageReload",value:function(){window.location.reload()}}]),e}(),lt.title="SETTINGS",lt.\u0275fac=function(t){return new(t||lt)(p.Ob(u.b),p.Ob(d.a),p.Ob(g.a),p.Ob(E.h),p.Ob(h.d))},lt.\u0275cmp=p.Ib({type:lt,selectors:[["app-settings"]],features:[p.Bb([u.b])],decls:80,vars:54,consts:[[1,"card"],[1,"card-body"],[1,"float-md-left"],[1,"icon-cog"],[1,"float-md-right"],["ngbDropdown","","placement","bottom-right",1,"d-block","d-md-inline-block"],["ngbDropdownToggle","",1,"btn","btn-info","btn-sm","d-block","d-md-inline-block","width-100","width-md-auto","mb-2","mb-md-0"],[1,"icon-repeat"],["ngbDropdownMenu",""],[1,"dropdown-item",3,"click"],[1,"icon-reload","text-info"],[1,"icon-repeat","text-info"],[1,"icon-globe","text-info"],[1,"icon-tag","text-info"],[1,"clearfix"],[1,"row"],[1,"col-md-6"],[1,"label-filled"],[1,"card","mb-4"],[1,"table-responsive-"],[1,"table","table-divided","mb-0"],["width","50%"],[4,"ngFor","ngForOf"],["activeIds","accordion-settings-1",1,"ngb-accordion",3,"closeOthers"],["id","accordion-settings-1",3,"title"],["ngbPanelContent",""],["id","accordion-settings-2",3,"title"],["id","accordion-settings-3",3,"title"],["id","accordion-settings-4",3,"title"],["id","accordion-settings-7",3,"title"],["id","accordion-settings-5",3,"title"],["id","accordion-settings-6",3,"title"],["key","message","position","bottom-right"],[1,"show-on-hover-parent"],[1,"show-on-hover-child","position-relative"],[1,"pos-absolute-right"],[1,"badge","badge-secondary"],[1,"input-group","input-group-sm","input-group-on-hover"],["readonly","",1,"form-control",3,"type","ngModel","ngModelChange"],["inputField",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-success",2,"display","none",3,"ngbTooltip","click"],["button",""],[1,"icon-check"],["type","button",1,"btn","btn-outline-secondary",3,"ngbTooltip","click"],[1,"icon-edit"],[1,"text-muted"],[1,"table-responsive"],["width","40%"],["width","10%"],[1,"bg-faded"],["colspan","4",1,"text-center"],[1,"relative"],["class","pos-absolute-right",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"icon-plus"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"text-center"],[3,"appendTo","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary","btn-sm",3,"ngbTooltip","click"],[1,"icon-cross"],["type","button",1,"btn","btn-info","btn-sm",3,"click"],[1,"icon-reload"],["type","number","step","1","min","0",1,"form-control","form-control-sm","mwidth-80","m-auto",3,"ngModel","ngModelChange"],["width","45%"],["type","number","step","1","min","0",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["width","30%"],["colspan","5",1,"text-center"],["type","number",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[3,"ngClass"],[1,"float-right"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"icon-arrow-up-circle"],[1,"pb-3","text-muted","mb-2"],[1,"form-control-search","mb-3",3,"ngClass"],["type","text",1,"form-control","form-control-sm",3,"placeholder","ngModel","ngModelChange"],[3,"click"],["class","alert alert-info py-1 px-3",4,"ngIf","ngIfElse"],["composerPackagesTable",""],[1,"alert","alert-info","py-1","px-3"],[1,"max-height400"],["width","60%"]],template:function(t,e){1&t&&(p.Ub(0,"div",0),p.Ub(1,"div",1),p.Ub(2,"div",2),p.Ub(3,"h3"),p.Pb(4,"i",3),p.Ic(5),p.hc(6,"translate"),p.Tb(),p.Tb(),p.Ub(7,"div",4),p.Ub(8,"div",5),p.Ub(9,"button",6),p.Pb(10,"i",7),p.Ic(11," \xa0 "),p.Ub(12,"span"),p.Ic(13),p.hc(14,"translate"),p.Tb(),p.Tb(),p.Ub(15,"div",8),p.Ub(16,"button",9),p.ec("click",function(){return e.runActionPost("clear_cache")}),p.Pb(17,"i",10),p.Ic(18),p.hc(19,"translate"),p.Tb(),p.Ub(20,"button",9),p.ec("click",function(){return e.runActionPost("clear_system_cache")}),p.Pb(21,"i",11),p.Ic(22),p.hc(23,"translate"),p.Tb(),p.Ub(24,"button",9),p.ec("click",function(){return e.runActionPost("update_internationalization")}),p.Pb(25,"i",12),p.Ic(26),p.hc(27,"translate"),p.Tb(),p.Ub(28,"button",9),p.ec("click",function(){return e.runActionPost("update_filters")}),p.Pb(29,"i",13),p.Ic(30),p.hc(31,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Pb(32,"div",14),p.Pb(33,"hr"),p.Ub(34,"div",15),p.Ub(35,"div",16),p.Ub(36,"div"),p.Ub(37,"label",17),p.Ic(38),p.hc(39,"translate"),p.Tb(),p.Ub(40,"div",18),p.Ub(41,"div",19),p.Ub(42,"table",20),p.Ub(43,"colgroup"),p.Pb(44,"col",21),p.Pb(45,"col",21),p.Tb(),p.Ub(46,"thead"),p.Ub(47,"tr"),p.Ub(48,"th"),p.Ic(49),p.hc(50,"translate"),p.Tb(),p.Ub(51,"th"),p.Ic(52),p.hc(53,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Ub(54,"tbody"),p.Gc(55,w,22,12,"tr",22),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(56,"div",16),p.Ub(57,"ngb-accordion",23),p.Ub(58,"ngb-panel",24),p.hc(59,"translate"),p.Gc(60,K,36,19,"ng-template",25),p.Tb(),p.Ub(61,"ngb-panel",26),p.hc(62,"translate"),p.Gc(63,$,31,19,"ng-template",25),p.Tb(),p.Ub(64,"ngb-panel",27),p.hc(65,"translate"),p.Gc(66,H,32,16,"ng-template",25),p.Tb(),p.Ub(67,"ngb-panel",28),p.hc(68,"translate"),p.Gc(69,X,32,16,"ng-template",25),p.Tb(),p.Ub(70,"ngb-panel",29),p.hc(71,"translate"),p.Gc(72,Z,36,19,"ng-template",25),p.Tb(),p.Ub(73,"ngb-panel",30),p.hc(74,"translate"),p.Gc(75,nt,32,16,"ng-template",25),p.Tb(),p.Ub(76,"ngb-panel",31),p.hc(77,"translate"),p.Gc(78,st,17,23,"ng-template",25),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Pb(79,"p-toast",32)),2&t&&(p.Cb(1),p.Gb("loading",e.loading),p.Cb(4),p.Kc(" ",p.ic(6,22,"SETTINGS")," "),p.Cb(8),p.Jc(p.ic(14,24,"CLEAR_CACHE")),p.Cb(5),p.Kc(" \xa0 ",p.ic(19,26,"CLEAR_FILE_CACHE")," "),p.Cb(4),p.Kc(" \xa0 ",p.ic(23,28,"CLEAR_SYSTEM_CACHE")," "),p.Cb(4),p.Kc(" \xa0 ",p.ic(27,30,"UPDATE_DICTIONARIES")," "),p.Cb(4),p.Kc(" \xa0 ",p.ic(31,32,"UPDATE_FILTERS")," "),p.Cb(6),p.Gb("loading",e.settings.SETTINGS_MAIN.loading),p.Cb(2),p.Jc(p.ic(39,34,"SETTINGS_MAIN")),p.Cb(11),p.Jc(p.ic(50,36,"PARAMETER")),p.Cb(3),p.Jc(p.ic(53,38,"VALUE")),p.Cb(3),p.nc("ngForOf",e.settings.SETTINGS_MAIN.values),p.Cb(2),p.nc("closeOthers",!0),p.Cb(1),p.nc("title",p.ic(59,40,"SETTINGS_ORDER_STATUSES")),p.Cb(3),p.nc("title",p.ic(62,42,"SETTINGS_DELIVERY")),p.Cb(3),p.nc("title",p.ic(65,44,"SETTINGS_PAYMENT")),p.Cb(3),p.nc("title",p.ic(68,46,"SETTINGS_CURRENCY")),p.Cb(3),p.nc("title",p.ic(71,48,"SETTINGS_PROMOCODES")),p.Cb(3),p.nc("title",p.ic(74,50,"SETTINGS_LANGUAGES")),p.Cb(3),p.nc("title",p.ic(77,52,"SETTINGS_COMPOSER_PACKAGES")))},directives:[E.d,E.g,E.f,a.o,E.a,E.p,E.q,k.a,D.b,D.n,D.p,E.v,a.p,L.a,D.r,a.n],pipes:[h.c,V],encapsulation:2}),lt)}],dt=((Tt=function e(){t(this,e)}).\u0275fac=function(t){return new(t||Tt)},Tt.\u0275mod=p.Mb({type:Tt}),Tt.\u0275inj=p.Lb({imports:[[o.f.forChild(gt)],o.f]}),Tt),St=((ut=function e(){t(this,e)}).\u0275fac=function(t){return new(t||ut)},ut.\u0275mod=p.Mb({type:ut}),ut.\u0275inj=p.Lb({providers:[],imports:[[a.c,b.a,dt]]}),ut)},"8Eda":function(e,n,i){"use strict";i.d(n,"a",function(){return c});var c=function e(n,i,c,a,b){t(this,e),this.changed=n,this.loading=i,this.values=c,this.defaultOptions=a,this.defaultValues=b}},b1TM:function(e,i,c){"use strict";c.d(i,"a",function(){return l});var a=c("tk/3"),b=c("LRne"),o=c("JIr8"),r=(c("8Eda"),c("wgQU")),s=c("fXoL"),l=function(){var e=function(){function e(n){t(this,e),this.http=n,this.headers=new a.e({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}),this.requestUrl="",this.baseUrl="",this.requestUrl="/admin/settings",this.baseUrl=r.a.getBaseUrl()}return n(e,[{key:"setRequestUrl",value:function(t){this.requestUrl=t}},{key:"getRequestUrl",value:function(){return this.requestUrl}},{key:"getList",value:function(){return this.http.get(this.getRequestUrl()).pipe(Object(o.a)(this.handleError()))}},{key:"clearSystemCache",value:function(){var t=this.getRequestUrl()+"/clear_system_cache";return this.http.post(t,{},{headers:this.headers}).pipe(Object(o.a)(this.handleError()))}},{key:"runActionPost",value:function(t){var e=this.getRequestUrl()+"/".concat(t);return this.http.post(e,{},{headers:this.headers}).pipe(Object(o.a)(this.handleError()))}},{key:"updateGroup",value:function(t,e){var n=this.getRequestUrl()+"/".concat(t);return this.http.put(n,e,{headers:this.headers}).pipe(Object(o.a)(this.handleError()))}},{key:"getComposerPackagesList",value:function(){return this.http.get(this.getRequestUrl()+"_composer_installed_packages").pipe(Object(o.a)(this.handleError()))}},{key:"composerRequirePackage",value:function(t,e){var n=this.getRequestUrl()+"_composer_require_package";return this.http.post(n,{packageName:t,packageVersion:e},{headers:this.headers}).pipe(Object(o.a)(this.handleError()))}},{key:"postFormData",value:function(t,e){var n=new a.e({enctype:"multipart/form-data",Accept:"application/json","X-Requested-With":"XMLHttpRequest"});return this.http.post(this.baseUrl+e,t,{headers:n}).pipe(Object(o.a)(this.handleError()))}},{key:"runAction",value:function(t){return this.http.post(this.baseUrl+t,{},{headers:this.headers}).pipe(Object(o.a)(this.handleError()))}},{key:"handleError",value:function(){var t=this,e=arguments.length>1?arguments[1]:void 0;return function(n){if(!(n.status&&[401,403].indexOf(n.status)>-1)){if(n.error)throw n.error;return Object(b.a)(e)}window.location.href=t.baseUrl+"/login"}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.bc(a.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();